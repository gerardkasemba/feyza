(()=>{var e={};e.id=4836,e.ids=[4836],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},97624:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(45609),t(32029),t(35866);var a=t(23191),s=t(88716),n=t(37922),l=t.n(n),d=t(95231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);t.d(r,i);let o=["",{children:["borrower",{children:["[token]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,45609)),"C:\\Users\\GerardKasemba\\feyza\\src\\app\\borrower\\[token]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"C:\\Users\\GerardKasemba\\feyza\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\GerardKasemba\\feyza\\src\\app\\borrower\\[token]\\page.tsx"],m="/borrower/[token]/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/borrower/[token]/page",pathname:"/borrower/[token]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},24035:(e,r,t)=>{Promise.resolve().then(t.bind(t,79017))},38787:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},37358:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},941:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},48998:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},28916:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},71821:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},31540:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},75290:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},69436:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},58038:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},79635:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},35047:(e,r,t)=>{"use strict";var a=t(77389);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},79017:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>j});var a=t(10326),s=t(17577),n=t(35047),l=t(90434),d=t(34683),i=t(51223),o=t(9825),c=t(87888),m=t(71821),x=t(38787),u=t(79635),h=t(28916),p=t(54659),b=t(69436),g=t(37358),y=t(31540),f=t(48998),k=t(58038);function j(){let e=(0,n.useParams)();(0,n.useRouter)();let r=e.token,[t,j]=(0,s.useState)(null),[N,w]=(0,s.useState)(!0),[v,_]=(0,s.useState)(null),[P,C]=(0,s.useState)(""),[D,Z]=(0,s.useState)(""),[S,A]=(0,s.useState)(!1),[z,E]=(0,s.useState)(null),[M,R]=(0,s.useState)(""),[$,I]=(0,s.useState)(!1),T=async()=>{try{let e=await fetch(`/api/guest-borrower/${r}`),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to load loan");j(t.loan),C(t.loan.borrower_payment_method||""),Z(t.loan.borrower_payment_username||"")}catch(e){_(e.message)}finally{w(!1)}},L=async()=>{if(P&&D){A(!0);try{if(!(await fetch(`/api/guest-borrower/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"set_payment_method",payment_method:P,payment_username:D})})).ok)throw Error("Failed to save payment method");await T(),alert("Payment method saved successfully!")}catch(e){alert(e.message)}finally{A(!1)}}},G=async e=>{I(!0);try{let t=await fetch(`/api/guest-borrower/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"record_payment",schedule_id:e,note:M})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to record payment")}await T(),E(null),R(""),alert("Payment recorded! Your lender will be notified.")}catch(e){alert(e.message)}finally{I(!1)}};if(N)return a.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-300",children:"Loading your loan..."})]})});if(v||!t)return a.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center p-4",children:(0,a.jsxs)(d.Zb,{className:"max-w-md w-full text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(c.Z,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),a.jsx("h1",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Access Expired or Invalid"}),a.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 mb-6",children:v||"This link may have expired or is invalid."}),a.jsx(l.default,{href:"/borrower/access",children:a.jsx(d.zx,{children:"Request New Access Link"})})]})});let O=t.lender?.full_name||t.business_lender?.business_name||"Your Lender",U=t.total_amount>0?(t.amount_paid||0)/t.total_amount*100:0,q=t.schedule?.find(e=>!e.is_paid),V=t.lender||t.business_lender,Y=V?.paypal_email||t.lender_paypal_email,B=V?.cashapp_username||t.lender_cashapp_username,F=V?.venmo_username||t.lender_venmo_username,H=Y||B||F;return(0,a.jsxs)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900",children:[a.jsx("header",{className:"bg-white dark:bg-neutral-800 border-b border-neutral-200 dark:border-neutral-700 sticky top-0 z-10",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary-500 rounded-xl flex items-center justify-center",children:a.jsx(m.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"font-bold text-neutral-900 dark:text-white",children:"Feyza"}),a.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Guest Borrower"})]})]}),a.jsx(d.Ct,{variant:"active"===t.status?"success":"warning",children:t.status})]})}),(0,a.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsx(d.Oo,{items:[{label:"My Loans",href:"/borrower/access"},{label:`Loan from ${O}`}]}),(0,a.jsxs)(d.Zb,{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-14 h-14 bg-primary-100 dark:bg-primary-900/30 rounded-xl flex items-center justify-center",children:t.business_lender?a.jsx(x.Z,{className:"w-7 h-7 text-primary-600 dark:text-primary-400"}):a.jsx(u.Z,{className:"w-7 h-7 text-primary-600 dark:text-primary-400"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Loan from"}),a.jsx("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:O})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 rounded-xl",children:[a.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-1",children:"Principal"}),a.jsx("p",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:(0,i.xG)(t.amount,t.currency)})]}),(0,a.jsxs)("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/30 rounded-xl",children:[(0,a.jsxs)("p",{className:"text-sm text-orange-600 dark:text-orange-400 mb-1",children:["Interest (",t.interest_rate,"%)"]}),a.jsx("p",{className:"text-xl font-bold text-orange-700 dark:text-orange-300",children:(0,i.xG)(t.total_interest||0,t.currency)})]}),(0,a.jsxs)("div",{className:"p-4 bg-primary-50 dark:bg-primary-900/30 rounded-xl",children:[a.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mb-1",children:"Total to Repay"}),a.jsx("p",{className:"text-xl font-bold text-primary-700 dark:text-primary-300",children:(0,i.xG)(t.total_amount||t.amount,t.currency)})]}),(0,a.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-xl",children:[a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1",children:"Each Payment"}),a.jsx("p",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:(0,i.xG)(t.repayment_amount||t.total_amount/t.total_installments,t.currency)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 p-4 bg-neutral-50 dark:bg-neutral-800 rounded-xl mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Interest Type"}),a.jsx("p",{className:"font-medium text-neutral-900 dark:text-white capitalize",children:t.interest_type||"Simple"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Frequency"}),a.jsx("p",{className:"font-medium text-neutral-900 dark:text-white capitalize",children:t.repayment_frequency})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Total Payments"}),a.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:t.total_installments})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 rounded-xl",children:[a.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mb-1",children:"Paid"}),a.jsx("p",{className:"text-xl font-bold text-green-700 dark:text-green-300",children:(0,i.xG)(t.amount_paid||0,t.currency)})]}),(0,a.jsxs)("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 rounded-xl",children:[a.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 mb-1",children:"Remaining"}),a.jsx("p",{className:"text-xl font-bold text-amber-700 dark:text-amber-300",children:(0,i.xG)(t.amount_remaining||t.total_amount||t.amount,t.currency)})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Repayment Progress"}),(0,a.jsxs)("span",{className:"font-medium text-neutral-900 dark:text-white",children:[Math.round(U),"%"]})]}),a.jsx(d.Ex,{value:U,className:"h-3"})]}),q&&"active"===t.status&&(0,a.jsxs)("div",{className:`p-4 rounded-xl flex items-center gap-3 ${new Date(q.due_date)<new Date?"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800":"bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800"}`,children:[a.jsx(c.Z,{className:`w-5 h-5 ${new Date(q.due_date)<new Date?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"}`}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:`font-medium ${new Date(q.due_date)<new Date?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300"}`,children:new Date(q.due_date)<new Date?"Payment Overdue!":"Next Payment Due"}),(0,a.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[(0,i.xG)(q.amount,t.currency)," due ",(0,i.p6)(q.due_date)]})]})]})]}),!t.borrower_payment_method&&(0,a.jsxs)(d.Zb,{className:"mb-6 bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800/50 rounded-lg",children:a.jsx(h.Z,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"Set Up How to Receive Your Loan"}),a.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Tell your lender how you'd like to receive the loan funds"})]})]}),a.jsx("div",{className:"space-y-3 mb-4",children:["paypal","cashapp","venmo"].map(e=>(0,a.jsxs)("label",{className:`flex items-center gap-3 p-4 bg-white dark:bg-neutral-800 rounded-xl cursor-pointer border-2 transition-all ${P===e?"border-primary-500 dark:border-primary-400":"border-transparent"}`,children:[a.jsx("input",{type:"radio",name:"payment_method",value:e,checked:P===e,onChange:e=>C(e.target.value),className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),a.jsx("span",{className:"font-medium capitalize text-neutral-900 dark:text-white",children:"cashapp"===e?"Cash App":e})]},e))}),P&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:["Your ","paypal"===P?"PayPal Email":`${"cashapp"===P?"Cash App":"Venmo"} Username`]}),a.jsx("input",{type:"paypal"===P?"email":"text",value:D,onChange:e=>Z(e.target.value),placeholder:"paypal"===P?"you@example.com":"$username",className:"w-full px-4 py-3 border border-neutral-200 dark:border-neutral-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white"})]}),a.jsx(d.zx,{onClick:L,disabled:!P||!D||S,className:"w-full",children:S?"Saving...":"Save Payment Method"})]}),t.borrower_payment_method&&(0,a.jsxs)(d.Zb,{className:"mb-6 bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800/50 rounded-lg",children:a.jsx(p.Z,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"Your Receive Method"}),(0,a.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[a.jsx("span",{className:"capitalize",children:"cashapp"===t.borrower_payment_method?"Cash App":t.borrower_payment_method}),": ",t.borrower_payment_username]})]})]}),a.jsx(d.zx,{variant:"outline",size:"sm",onClick:()=>{C(t.borrower_payment_method),Z(t.borrower_payment_username||"")},children:"Change"})]}),P&&P!==t.borrower_payment_method&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-green-200 dark:border-green-800",children:[a.jsx("div",{className:"space-y-3 mb-4",children:["paypal","cashapp","venmo"].map(e=>(0,a.jsxs)("label",{className:`flex items-center gap-3 p-3 bg-white dark:bg-neutral-800 rounded-lg cursor-pointer border-2 transition-all ${P===e?"border-primary-500 dark:border-primary-400":"border-transparent"}`,children:[a.jsx("input",{type:"radio",name:"payment_method",value:e,checked:P===e,onChange:e=>C(e.target.value),className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),a.jsx("span",{className:"font-medium capitalize text-neutral-900 dark:text-white",children:"cashapp"===e?"Cash App":e})]},e))}),a.jsx("input",{type:"paypal"===P?"email":"text",value:D,onChange:e=>Z(e.target.value),placeholder:"paypal"===P?"you@example.com":"$username",className:"w-full px-4 py-3 border border-neutral-200 dark:border-neutral-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white mb-3"}),a.jsx(d.zx,{onClick:L,disabled:!P||!D||S,className:"w-full",size:"sm",children:S?"Saving...":"Update Payment Method"})]})]}),"active"===t.status&&H&&(0,a.jsxs)(d.Zb,{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800/50 rounded-lg",children:a.jsx(b.Z,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"How to Repay Your Lender"}),(0,a.jsxs)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:["Send payments to ",O," using one of these methods"]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[Y&&(0,a.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-xl flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium mb-1",children:"PayPal"}),a.jsx("p",{className:"text-neutral-900 dark:text-white font-mono",children:Y})]}),a.jsx("a",{href:`https://paypal.me/${Y}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-600 dark:bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-700 dark:hover:bg-blue-600",children:"Open PayPal"})]}),B&&(0,a.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 rounded-xl flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium mb-1",children:"Cash App"}),(0,a.jsxs)("p",{className:"text-neutral-900 dark:text-white font-mono",children:["$",B]})]}),a.jsx("a",{href:`https://cash.app/$${B}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-green-600 dark:bg-green-500 text-white rounded-lg text-sm hover:bg-green-700 dark:hover:bg-green-600",children:"Open Cash App"})]}),F&&(0,a.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/30 rounded-xl flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium mb-1",children:"Venmo"}),(0,a.jsxs)("p",{className:"text-neutral-900 dark:text-white font-mono",children:["@",F]})]}),a.jsx("a",{href:`https://venmo.com/${F}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-purple-600 dark:bg-purple-500 text-white rounded-lg text-sm hover:bg-purple-700 dark:hover:bg-purple-600",children:"Open Venmo"})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-amber-50 dark:bg-amber-900/30 rounded-lg border border-amber-200 dark:border-amber-800",children:(0,a.jsxs)("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:["\uD83D\uDCA1 ",a.jsx("strong",{children:"Tip:"}),' After sending a payment, click "I Made This Payment" below to notify your lender.']})})]}),"active"===t.status&&!H&&a.jsx(d.Zb,{className:"mb-6 bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-800",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(c.Z,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"Waiting for Lender Payment Details"}),a.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Your lender hasn't set up their payment method yet. You'll be notified when they do."})]})]})}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-neutral-900 dark:text-white flex items-center gap-2",children:[a.jsx(g.Z,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),"Payment Schedule"]}),t.schedule&&t.schedule.length>0&&(0,a.jsxs)(d.zx,{variant:"outline",size:"sm",onClick:()=>{let e=t.schedule.filter(e=>!e.is_paid).map(e=>({id:e.id,title:`ðŸ’° Feyza Payment Due - ${(0,i.xG)(e.amount,t.currency)}`,amount:e.amount,currency:t.currency,dueDate:e.due_date,lenderName:O,description:`Loan repayment for ${t.purpose||"personal loan"}`}));(0,o.M3)(e,t.purpose)},children:[a.jsx(y.Z,{className:"w-4 h-4 mr-1"}),"Add to Calendar"]})]}),t.schedule&&0!==t.schedule.length?a.jsx("div",{className:"space-y-3",children:t.schedule.map((e,r)=>{let s=new Date(e.due_date)<new Date&&!e.is_paid;return(0,a.jsxs)("div",{id:`payment-${e.id}`,className:`p-4 rounded-xl border ${e.is_paid?"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800":s?"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800":"bg-neutral-50 dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700"}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e.is_paid?"bg-green-100 dark:bg-green-800":s?"bg-red-100 dark:bg-red-800":"bg-neutral-200 dark:bg-neutral-700"}`,children:e.is_paid?a.jsx(p.Z,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):a.jsx("span",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-300",children:r+1})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:(0,i.xG)(e.amount,t.currency)}),(0,a.jsxs)("p",{className:`text-sm ${s?"text-red-600 dark:text-red-400 font-medium":"text-neutral-500 dark:text-neutral-400"}`,children:[s?"âš ï¸ Overdue â€¢ ":"",(0,i.p6)(e.due_date)]})]})]}),e.is_paid?a.jsx("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300 text-sm rounded-full",children:"âœ“ Paid"}):"active"===t.status&&H?a.jsx(d.zx,{size:"sm",variant:z===e.id?"primary":"outline",onClick:()=>E(z===e.id?null:e.id),children:"I Made This Payment"}):a.jsx("span",{className:"px-3 py-1 bg-neutral-100 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 text-sm rounded-full",children:"Pending"})]}),z===e.id&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[a.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mb-3",children:"Confirm that you've sent this payment to your lender:"}),a.jsx("textarea",{value:M,onChange:e=>R(e.target.value),placeholder:"Add a note (optional) - e.g., PayPal confirmation #...",className:"w-full px-3 py-2 border border-neutral-200 dark:border-neutral-700 rounded-lg text-sm mb-3 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",rows:2}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(d.zx,{size:"sm",variant:"outline",onClick:()=>{E(null),R("")},children:"Cancel"}),a.jsx(d.zx,{size:"sm",onClick:()=>G(e.id),disabled:$,children:$?"Recording...":"Confirm Payment"})]})]})]},e.id)})}):(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(f.Z,{className:"w-8 h-8 text-amber-600 dark:text-amber-400"})}),a.jsx("p",{className:"font-medium text-neutral-900 dark:text-white mb-2",children:"pending"===t.status?"â³ Waiting for Lender":"\uD83D\uDCCB Schedule Coming Soon"}),a.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 max-w-sm mx-auto",children:"pending"===t.status?"Your lender is reviewing your request and setting up the loan terms. You'll see your payment schedule here once they're done.":"Your payment schedule will appear here once the loan is fully activated. Check back soon!"}),"pending"===t.status&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg inline-block",children:a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"\uD83D\uDCA1 Tip: You'll receive an email when your lender finalizes the terms"})})]})]}),(0,a.jsxs)("div",{className:"mt-8 text-center text-sm text-neutral-500 dark:text-neutral-400",children:[(0,a.jsxs)("p",{className:"flex items-center justify-center gap-2",children:[a.jsx(k.Z,{className:"w-4 h-4"}),"Your data is secure and private"]}),(0,a.jsxs)("p",{className:"mt-2",children:[a.jsx(l.default,{href:"/borrower/access",className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"Access another loan"})," â€¢ ",a.jsx(l.default,{href:"/",className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"Learn more about Feyza"})]})]}),a.jsx("div",{className:"h-24"})]}),"active"===t.status&&H&&t.schedule&&(()=>{let e=t.schedule.find(e=>!e.is_paid);if(!e)return null;let r=new Date(e.due_date)<new Date;return a.jsx("div",{className:`fixed bottom-0 left-0 right-0 ${r?"bg-red-600 dark:bg-red-700":"bg-primary-600 dark:bg-primary-700"} text-white py-4 px-4 shadow-lg z-50`,children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 ${r?"bg-red-500 dark:bg-red-600":"bg-primary-500 dark:bg-primary-600"} rounded-full flex items-center justify-center`,children:r?a.jsx(c.Z,{className:"w-5 h-5"}):a.jsx(m.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:r?"âš ï¸ Payment Overdue":"Next Payment Due"}),(0,a.jsxs)("p",{className:"text-white/80 dark:text-white/90 text-sm",children:[(0,i.xG)(e.amount,t.currency)," â€¢ ",(0,i.p6)(e.due_date)]})]})]}),a.jsx(d.zx,{className:"bg-white text-primary-600 dark:bg-white/90 dark:text-primary-700 hover:bg-white/90 font-medium whitespace-nowrap",onClick:()=>{E(e.id),document.getElementById(`payment-${e.id}`)?.scrollIntoView({behavior:"smooth",block:"center"})},children:"Record Payment"})]})})})()]})}},34683:(e,r,t)=>{"use strict";t.d(r,{qE:()=>p,Ct:()=>u,Oo:()=>g.Breadcrumbs,zx:()=>i,Zb:()=>x,II:()=>o,u_:()=>b.Modal,Ex:()=>h,Ph:()=>m});var a=t(10326),s=t(17577),n=t.n(s),l=t(51223),d=t(75290);function i({variant:e="primary",size:r="md",loading:t=!1,className:s,disabled:n,children:i,...o}){return(0,a.jsxs)("button",{className:(0,l.cn)("inline-flex items-center justify-center font-medium transition-all duration-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-neutral-900 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]",{primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 shadow-lg shadow-primary-500/25 hover:shadow-xl hover:shadow-primary-500/30",secondary:"bg-neutral-800 dark:bg-neutral-700 text-white hover:bg-neutral-700 dark:hover:bg-neutral-600 focus:ring-neutral-500",outline:"border-2 border-neutral-300 dark:border-neutral-600 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-800 focus:ring-neutral-500",ghost:"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:ring-neutral-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[e],{sm:"px-3 py-2 text-sm min-h-[36px]",md:"px-5 py-2.5 text-base min-h-[44px]",lg:"px-7 py-3.5 text-lg min-h-[52px]"}[r],s),disabled:n||t,...o,children:[t&&a.jsx(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}),i]})}let o=n().forwardRef(({label:e,error:r,helperText:t,icon:s,className:n,...d},i)=>(0,a.jsxs)("div",{className:"space-y-1.5",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300",children:e}),(0,a.jsxs)("div",{className:"relative",children:[s&&a.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500",children:s}),a.jsx("input",{ref:i,className:(0,l.cn)("w-full py-3 rounded-xl border bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","placeholder:text-neutral-400 dark:placeholder:text-neutral-500",s?"pl-11 pr-4":"px-4",r?"border-red-300 dark:border-red-500 focus:ring-red-500":"border-neutral-200 dark:border-neutral-700 hover:border-neutral-300 dark:hover:border-neutral-600",n),...d})]}),r&&a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r}),t&&!r&&a.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t})]}));o.displayName="Input",n().forwardRef(({label:e,error:r,helperText:t,className:s,...n},d)=>(0,a.jsxs)("div",{className:"space-y-1.5",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:e}),a.jsx("textarea",{ref:d,className:(0,l.cn)("w-full px-4 py-3 rounded-xl border bg-white transition-all duration-200 resize-none","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","placeholder:text-neutral-400",r?"border-red-300 focus:ring-red-500":"border-neutral-200 hover:border-neutral-300",s),...n}),r&&a.jsx("p",{className:"text-sm text-red-600",children:r}),t&&!r&&a.jsx("p",{className:"text-sm text-neutral-500",children:t})]})).displayName="TextArea";var c=t(941);let m=n().forwardRef(({label:e,error:r,options:t,placeholder:s,className:n,...d},i)=>(0,a.jsxs)("div",{className:"space-y-1.5",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:e}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("select",{ref:i,className:(0,l.cn)("w-full px-4 py-3 rounded-xl border bg-white appearance-none transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",r?"border-red-300 focus:ring-red-500":"border-neutral-200 hover:border-neutral-300",n),...d,children:[s&&a.jsx("option",{value:"",children:s}),t.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]}),a.jsx(c.Z,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400 pointer-events-none"})]}),r&&a.jsx("p",{className:"text-sm text-red-600",children:r})]}));function x({children:e,className:r,hover:t=!1,onClick:s}){return a.jsx("div",{className:(0,l.cn)("bg-white dark:bg-neutral-800 rounded-2xl border border-neutral-200 dark:border-neutral-700","p-4 sm:p-5 md:p-6","h-full flex flex-col",t&&"transition-all duration-200 hover:shadow-lg hover:border-neutral-300 dark:hover:border-neutral-600 cursor-pointer",r),onClick:s,children:e})}function u({children:e,variant:r="default",size:t="md",className:s}){return a.jsx("span",{className:(0,l.cn)("inline-flex items-center font-medium rounded-full",{default:"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300",success:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",warning:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400",danger:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400",info:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"}[r],{sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"}[t],s),children:e})}function h({value:e,max:r=100,size:t="md",showLabel:s=!1,className:n}){let d=Math.min(Math.max(e/r*100,0),100);return(0,a.jsxs)("div",{className:(0,l.cn)("w-full",n),children:[a.jsx("div",{className:(0,l.cn)("w-full bg-neutral-100 rounded-full overflow-hidden",{sm:"h-1.5",md:"h-2.5",lg:"h-4"}[t]),children:a.jsx("div",{className:(0,l.cn)("h-full rounded-full transition-all duration-500 ease-out",d>=100?"bg-gradient-to-r from-green-500 to-green-400":d>=75?"bg-gradient-to-r from-primary-500 to-primary-400":d>=50?"bg-gradient-to-r from-yellow-500 to-yellow-400":"bg-gradient-to-r from-orange-500 to-orange-400"),style:{width:`${d}%`}})}),s&&(0,a.jsxs)("p",{className:"text-sm text-neutral-500 mt-1 text-right",children:[Math.round(d),"%"]})]})}function p({src:e,name:r,size:t="md",className:s}){let n=r.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),d={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"},i=["bg-primary-500","bg-blue-500","bg-purple-500","bg-pink-500","bg-orange-500","bg-teal-500"],o=r.split("").reduce((e,r)=>e+r.charCodeAt(0),0)%i.length,c=i[o];return e?a.jsx("img",{src:e,alt:r,className:(0,l.cn)("rounded-full object-cover",d[t],s)}):a.jsx("div",{className:(0,l.cn)("rounded-full flex items-center justify-center font-semibold text-white",d[t],c,s),children:n})}m.displayName="Select";var b=t(28676);t(92520),t(20603);var g=t(36653)},9825:(e,r,t)=>{"use strict";function a(e,r){let t=new Blob([function(e,r){let t=new Date,a=e=>e.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",s=e=>e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"),n=(e,r)=>new Intl.NumberFormat("en-US",{style:"currency",currency:r||"USD"}).format(e),l=e.map(e=>{let r=new Date(e.dueDate);r.setHours(9,0,0,0);let l=new Date(r);l.setHours(10,0,0,0);let d=[`Payment Amount: ${n(e.amount,e.currency)}`,e.lenderName?`Pay to: ${e.lenderName}`:"",e.description||"","","Powered by Feyza - feyza.app"].filter(Boolean).join("\\n");return`BEGIN:VEVENT
UID:${e.id}@feyza.app
DTSTAMP:${a(t)}
DTSTART:${a(r)}
DTEND:${a(l)}
SUMMARY:${s(e.title)}
DESCRIPTION:${s(d)}
STATUS:CONFIRMED
BEGIN:VALARM
TRIGGER:-P1D
ACTION:DISPLAY
DESCRIPTION:Payment due tomorrow: ${n(e.amount,e.currency)}
END:VALARM
BEGIN:VALARM
TRIGGER:-PT2H
ACTION:DISPLAY
DESCRIPTION:Payment due today: ${n(e.amount,e.currency)}
END:VALARM
END:VEVENT`});return`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Feyza//Payment Schedule//EN
CALSCALE:GREGORIAN
METHOD:PUBLISH
X-WR-CALNAME:Feyza Payment Schedule${r?` - ${r}`:""}
${l.join("\n")}
END:VCALENDAR`}(e,r)],{type:"text/calendar;charset=utf-8"}),a=URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download=`feyza-payment-schedule${r?`-${r.toLowerCase().replace(/\s+/g,"-")}`:""}.ics`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}t.d(r,{M3:()=>a})},45609:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\GerardKasemba\feyza\src\app\borrower\[token]\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[9276,1199,8596,1402],()=>t(97624));module.exports=a})();