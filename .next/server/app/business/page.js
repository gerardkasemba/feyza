(()=>{var e={};e.id=6833,e.ids=[6833],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},45358:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(22685),r(32029),r(35866);var t=r(23191),a=r(88716),l=r(37922),n=r.n(l),i=r(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(s,o);let d=["",{children:["business",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,22685)),"C:\\Users\\GerardKasemba\\feyza\\src\\app\\business\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"C:\\Users\\GerardKasemba\\feyza\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\GerardKasemba\\feyza\\src\\app\\business\\page.tsx"],m="/business/page",x={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/business/page",pathname:"/business",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},26818:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,92481,23)),Promise.resolve().then(r.t.bind(r,79404,23)),Promise.resolve().then(r.bind(r,47368)),Promise.resolve().then(r.bind(r,59335)),Promise.resolve().then(r.bind(r,41222)),Promise.resolve().then(r.bind(r,65112)),Promise.resolve().then(r.bind(r,16681)),Promise.resolve().then(r.bind(r,97162)),Promise.resolve().then(r.bind(r,8585)),Promise.resolve().then(r.bind(r,24263)),Promise.resolve().then(r.bind(r,40481)),Promise.resolve().then(r.bind(r,62333)),Promise.resolve().then(r.bind(r,80516)),Promise.resolve().then(r.bind(r,84794)),Promise.resolve().then(r.bind(r,36653)),Promise.resolve().then(r.bind(r,28676)),Promise.resolve().then(r.bind(r,92520)),Promise.resolve().then(r.bind(r,20603))},43810:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(76557).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},71821:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(76557).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},1388:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(76557).Z)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},76993:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(76557).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},59593:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(76557).Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]])},79635:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},47368:(e,s,r)=>{"use strict";r.d(s,{PendingLoanCard:()=>f});var t=r(10326),a=r(17577),l=r(35047),n=r(34683),i=r(33734),o=r(59593),d=r(35351),c=r(37202),m=r(91470);let x={great:{label:"Great Borrower",bgColor:"bg-green-50",textColor:"text-green-700",borderColor:"border-green-200",icon:i.Z,emoji:"⭐"},good:{label:"Good Borrower",bgColor:"bg-blue-50",textColor:"text-blue-700",borderColor:"border-blue-200",icon:o.Z,emoji:"\uD83D\uDC4D"},neutral:{label:"New Borrower",bgColor:"bg-gray-50",textColor:"text-gray-700",borderColor:"border-gray-200",icon:d.Z,emoji:"\uD83C\uDD95"},poor:{label:"Poor Borrower",bgColor:"bg-yellow-50",textColor:"text-yellow-700",borderColor:"border-yellow-200",icon:c.Z,emoji:"⚠️"},bad:{label:"Bad Borrower",bgColor:"bg-orange-50",textColor:"text-orange-700",borderColor:"border-orange-200",icon:c.Z,emoji:"⛔"},worst:{label:"High Risk",bgColor:"bg-red-50",textColor:"text-red-700",borderColor:"border-red-200",icon:m.Z,emoji:"\uD83D\uDEA8"}};function h({rating:e,size:s="md",showLabel:r=!0}){let a=x[e]||x.neutral,l=a.icon;return(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 rounded-full border font-medium ${a.bgColor} ${a.textColor} ${a.borderColor} ${{sm:"text-xs px-2 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"}[s]}`,children:[t.jsx(l,{className:{sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"}[s]}),r&&t.jsx("span",{children:a.label})]})}function u({rating:e,paymentStats:s,loansCompleted:r=0,memberMonths:a=0,isVerified:l=!1}){let n=x[e]||x.neutral;n.icon;let i={great:"Pays early most of the time. Highly reliable.",good:"Pays on time consistently. Trustworthy.",neutral:"No payment history yet or limited data.",poor:"Mixed payment history. Some missed payments.",bad:"Frequently late on payments. High risk.",worst:"Rarely or never pays. Avoid lending."},o=s&&s.total>0?Math.round((s.onTime+s.early)/s.total*100):0;return(0,t.jsxs)("div",{className:`rounded-xl border-2 ${n.borderColor} ${n.bgColor} p-4`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${n.bgColor} border ${n.borderColor}`,children:t.jsx("span",{className:"text-2xl",children:n.emoji})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:`font-semibold ${n.textColor}`,children:n.label}),l&&t.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"✓ Verified"})]}),t.jsx("p",{className:"text-sm text-neutral-500",children:i[e]||i.neutral})]})]}),s&&s.total>0&&(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-neutral-500",children:"On-Time Rate"}),(0,t.jsxs)("span",{className:`font-semibold ${o>=80?"text-green-600":o>=50?"text-yellow-600":"text-red-600"}`,children:[o,"%"]})]}),t.jsx("div",{className:"h-2 bg-neutral-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${o>=80?"bg-green-500":o>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o}%`}})}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-xs text-center pt-2",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-semibold text-green-600",children:s.early}),t.jsx("p",{className:"text-neutral-500",children:"Early"})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-semibold text-blue-600",children:s.onTime}),t.jsx("p",{className:"text-neutral-500",children:"On Time"})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-semibold text-yellow-600",children:s.late}),t.jsx("p",{className:"text-neutral-500",children:"Late"})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-semibold text-red-600",children:s.missed}),t.jsx("p",{className:"text-neutral-500",children:"Missed"})]})]})]}),(0,t.jsxs)("div",{className:"mt-4 pt-3 border-t border-neutral-200 flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-neutral-500",children:["Loans Completed: ",t.jsx("strong",{children:r})]}),(0,t.jsxs)("span",{className:"text-neutral-500",children:["Member: ",(0,t.jsxs)("strong",{children:[a,"+ months"]})]})]})]})}var g=r(51223),b=r(79635),p=r(96633),y=r(941),j=r(87888);function f({loan:e}){let s=(0,l.useRouter)(),[r,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)(null),[x,f]=(0,a.useState)(!1),[v,w]=(0,a.useState)(null),[N,k]=(0,a.useState)(!1),C=async()=>{i(!0),m(null);try{let r=await fetch(`/api/loans/${e.id}/accept`,{method:"POST",headers:{"Content-Type":"application/json"}}),t=await r.json();if(!r.ok)throw Error(t.error||"Failed to accept loan");s.refresh()}catch(e){m(e.message||"Failed to accept loan")}finally{i(!1)}},_=async()=>{if(confirm("Are you sure you want to decline this loan request?")){d(!0),m(null);try{let r=await fetch(`/api/loans/${e.id}/decline`,{method:"POST",headers:{"Content-Type":"application/json"}}),t=await r.json();if(!r.ok)throw Error(t.error||"Failed to decline loan");s.refresh()}catch(e){m(e.message||"Failed to decline loan")}finally{d(!1)}}},P=e.borrower?.borrower_rating||"neutral";return(0,t.jsxs)(n.Zb,{className:"border-yellow-200 bg-yellow-50/50",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-neutral-200 rounded-full flex items-center justify-center",children:t.jsx(b.Z,{className:"w-5 h-5 text-neutral-500"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-neutral-900",children:e.borrower?.full_name||"Unknown"}),t.jsx("p",{className:"text-sm text-neutral-500",children:e.borrower?.email})]})]}),t.jsx(n.Ct,{variant:"warning",children:"Pending"})]}),t.jsx("div",{className:"mb-3",children:t.jsx(h,{rating:P,size:"sm"})}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:(0,g.xG)(e.amount,e.currency)}),e.purpose&&t.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:e.purpose})]}),t.jsx("div",{className:"text-sm text-neutral-500 mb-4",children:(0,t.jsxs)("p",{children:[e.total_installments," ",e.repayment_frequency," payments"]})}),t.jsx("button",{onClick:()=>f(!x),className:"w-full flex items-center justify-center gap-1 py-2 text-sm text-primary-600 hover:text-primary-700 border-t border-neutral-200",children:x?(0,t.jsxs)(t.Fragment,{children:[t.jsx(p.Z,{className:"w-4 h-4"}),"Hide borrower details"]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(y.Z,{className:"w-4 h-4"}),"View borrower details"]})}),x&&(0,t.jsxs)("div",{className:"pt-4 animate-fade-in",children:[N?t.jsx("div",{className:"text-center py-4 text-neutral-500",children:"Loading..."}):v?t.jsx(u,{rating:v.rating?.overall||"neutral",paymentStats:v.paymentHistory?{total:v.paymentHistory.totalPayments,onTime:v.paymentHistory.onTime,early:v.paymentHistory.early,late:v.paymentHistory.late,missed:v.paymentHistory.missed}:void 0,loansCompleted:v.loanHistory?.totalCompleted||0,memberMonths:v.borrower?.monthsAsMember||0,isVerified:v.borrower?.isVerified}):t.jsx("div",{className:"p-4 bg-neutral-100 rounded-lg text-sm text-neutral-600",children:"No additional information available"}),v?.recommendation&&(0,t.jsxs)("div",{className:`mt-3 p-3 rounded-lg text-sm ${"great"===P||"good"===P?"bg-green-50 text-green-800 border border-green-200":"poor"===P||"bad"===P||"worst"===P?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:[t.jsx("strong",{children:"Recommendation:"})," ",v.recommendation]})]}),c&&(0,t.jsxs)("div",{className:"my-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2",children:[t.jsx(j.Z,{className:"w-4 h-4 text-red-500 mt-0.5"}),t.jsx("p",{className:"text-sm text-red-700",children:c})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:[t.jsx(n.zx,{variant:"outline",className:"flex-1",onClick:_,loading:o,disabled:r,children:"Decline"}),t.jsx(n.zx,{className:"flex-1",onClick:C,loading:r,disabled:o,children:"Accept"})]})]})}},59335:(e,s,r)=>{"use strict";r.d(s,{ShareBusinessCard:()=>p});var t=r(10326),a=r(17577),l=r(34683),n=r(76993),i=r(71821),o=r(76557);let d=(0,o.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),c=(0,o.Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),m=(0,o.Z)("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);var x=r(54659),h=r(43810),u=r(7027),g=r(24061),b=r(1388);function p({businessName:e,slug:s,tagline:r,isApproved:o}){let[p,y]=(0,a.useState)(!1),j=`/lend/${s}`,f=`Need a loan? Borrow money from ${e} on Feyza! Fast approval, fair rates, no hidden fees. Apply now!`,v="#BorrowMoney #PersonalLoan #FastCash #LoanApp #EmergencyFunds #Feyza",w=()=>{navigator.clipboard.writeText(j),y(!0),setTimeout(()=>y(!1),2e3)};return o?(0,t.jsxs)(l.Zb,{className:"bg-gradient-to-r from-green-50 to-teal-50 dark:from-green-900/20 dark:to-teal-900/20 border-green-200 dark:border-green-800",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:t.jsx(i.Z,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-bold text-neutral-900 dark:text-white text-lg",children:"Share to Get Borrowers"}),(0,t.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Let people know they can ",t.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:"borrow money"})," from you"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{let e=`${f}

${j}

${v}`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(e)}`,"_blank")},className:"w-10 h-10 flex items-center justify-center rounded-lg bg-[#1DA1F2] hover:bg-[#1a8cd8] text-white transition-colors shadow-md hover:shadow-lg",title:"Share on Twitter",children:t.jsx(d,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>{let e=`${f}

Apply here: ${j}`;window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(j)}&quote=${encodeURIComponent(e)}`,"_blank")},className:"w-10 h-10 flex items-center justify-center rounded-lg bg-[#4267B2] hover:bg-[#365899] text-white transition-colors shadow-md hover:shadow-lg",title:"Share on Facebook",children:t.jsx(c,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>{window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(j)}`,"_blank")},className:"w-10 h-10 flex items-center justify-center rounded-lg bg-[#0077B5] hover:bg-[#006399] text-white transition-colors shadow-md hover:shadow-lg",title:"Share on LinkedIn",children:t.jsx(m,{className:"w-5 h-5"})})]}),t.jsx(l.zx,{variant:"outline",onClick:w,className:"border-green-200 dark:border-green-800 hover:bg-green-50 dark:hover:bg-green-900/30",children:p?(0,t.jsxs)(t.Fragment,{children:[t.jsx(x.Z,{className:"w-4 h-4 mr-2 text-green-600 dark:text-green-400"}),"Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Copy Link"]})}),t.jsx("a",{href:j,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsxs)(l.zx,{className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:[t.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"View Profile"]})})]})]}),t.jsx("div",{className:"mt-6 p-4 bg-white dark:bg-neutral-800 rounded-xl border border-green-200 dark:border-green-800",children:(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[t.jsx(g.Z,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-white mb-1",children:"Message people will see:"}),t.jsx("p",{className:"text-neutral-600 dark:text-neutral-300",children:f}),(0,t.jsxs)("div",{className:"mt-2 text-xs text-neutral-500 dark:text-neutral-400",children:["Hashtags: ",v]})]})]})}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-2 p-3 bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700",children:[t.jsx(b.Z,{className:"w-4 h-4 text-neutral-400"}),t.jsx("code",{className:"text-sm text-neutral-600 dark:text-neutral-300 flex-1 truncate",children:j}),t.jsx(l.zx,{variant:"ghost",size:"sm",onClick:w,className:"h-8 px-2",children:p?"✓":"Copy"})]}),t.jsx("div",{className:"mt-4 p-3 bg-green-100 dark:bg-green-900/30 rounded-lg border border-green-200 dark:border-green-800",children:(0,t.jsxs)("p",{className:"text-sm text-green-800 dark:text-green-300 text-center",children:[t.jsx("strong",{children:"\uD83D\uDCA1 Tip:"})," Share regularly to reach people who need to borrow money!"]})})]}):t.jsx(l.Zb,{className:"bg-gradient-to-r from-green-50 to-teal-50 dark:from-green-900/20 dark:to-teal-900/20 border-green-200 dark:border-green-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 text-green-700 dark:text-green-400",children:[t.jsx(n.Z,{className:"w-5 h-5"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-semibold",children:"Share Your Lending Profile"}),t.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"Available after your business is approved"})]})]})})}},74780:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(36478).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},22685:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>_});var t=r(19510),a=r(58585),l=r(57371),n=r(65655),i=r(89523),o=r(20418),d=r(38063),c=r(2157),m=r(68570);let x=(0,m.createProxy)(String.raw`C:\Users\GerardKasemba\feyza\src\components\business\PendingLoanCard.tsx#PendingLoanCard`),h=(0,m.createProxy)(String.raw`C:\Users\GerardKasemba\feyza\src\components\business\ShareBusinessCard.tsx#ShareBusinessCard`);var u=r(40644),g=r(767),b=r(36478);let p=(0,b.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),y=(0,b.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),j=(0,b.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var f=r(72008),v=r(15064),w=r(14120),N=r(74780),k=r(26359);let C=(0,b.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);async function _(){let e=await (0,n.f)(),{data:{user:s}}=await e.auth.getUser();s||(0,a.redirect)("/auth/signin");let r=null;try{let{data:t}=await e.from("users").select("*").eq("id",s.id).single();r=t}catch(e){console.log("Users table may not exist yet")}let m=null;try{let{data:r}=await e.from("business_profiles").select("*, slug, public_profile_enabled, verification_status, logo_url").eq("user_id",s.id).single();m=r}catch(e){console.log("Business profile not found")}m||(0,a.redirect)("/business/setup");let b=!m.profile_completed||!m.paypal_connected,_=[];try{let{data:s}=await e.from("loans").select("*, borrower:users!borrower_id(*)").eq("business_lender_id",m.id).order("created_at",{ascending:!1});_=s||[]}catch(e){console.log("Error fetching business loans")}let P=!1;try{let{data:s}=await e.from("lender_preferences").select("id, is_active, capital_pool").eq("business_id",m.id).single();P=!!s}catch(e){}let Z=r||{id:s.id,email:s.email||"",full_name:s.user_metadata?.full_name||"User",user_type:s.user_metadata?.user_type||"business"},q=_.filter(e=>"active"===e.status),z=_.filter(e=>"pending"===e.status),S=q.reduce((e,s)=>e+(s.amount||0),0),A=q.reduce((e,s)=>e+(s.amount_paid||0),0);return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col bg-neutral-50",children:[t.jsx(i.w,{user:Z}),t.jsx("main",{className:"flex-1",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b&&t.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(g.Z,{className:"w-5 h-5 text-yellow-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-yellow-800 mb-1",children:"Complete Your Business Profile"}),t.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:m.paypal_connected?"Please complete your business profile to start receiving loan requests.":"Connect your PayPal account to receive loan repayments from borrowers."}),t.jsx(l.default,{href:"/business/settings?tab=payments",children:t.jsx(o.zx,{size:"sm",children:m.paypal_connected?(0,t.jsxs)(t.Fragment,{children:[t.jsx(y,{className:"w-4 h-4 mr-2"}),"Complete Profile"]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(p,{className:"w-4 h-4 mr-2"}),"Connect PayPal"]})})})]})]})}),!b&&!P&&t.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(j,{className:"w-5 h-5 text-yellow-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-yellow-800 mb-1",children:"Set Up Auto-Matching"}),t.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Configure your lending preferences to automatically receive matching loan requests from borrowers. Set your loan amount range, interest rate, and countries you serve."}),t.jsx(l.default,{href:"/lender/preferences",children:(0,t.jsxs)(o.zx,{size:"sm",className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:[t.jsx(j,{className:"w-4 h-4 mr-2"}),"Configure Auto-Match"]})})]})]})}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-2xl flex items-center justify-center overflow-hidden",children:m.logo_url?t.jsx("img",{src:m.logo_url,alt:m.business_name,className:"w-full h-full object-cover"}):t.jsx(f.Z,{className:"w-8 h-8 text-primary-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("h1",{className:"text-2xl font-display font-bold text-neutral-900",children:m.business_name}),m.is_verified&&(0,t.jsxs)(o.Ct,{variant:"success",size:"sm",children:[t.jsx(v.Z,{className:"w-3 h-3 mr-1"}),"Verified"]}),"pending"===m.verification_status&&(0,t.jsxs)(o.Ct,{variant:"warning",size:"sm",children:[t.jsx(w.Z,{className:"w-3 h-3 mr-1"}),"Pending"]})]}),t.jsx("p",{className:"text-neutral-500",children:m.business_type})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[t.jsx(l.default,{href:"/lender/preferences",children:(0,t.jsxs)(o.zx,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600",children:[t.jsx(j,{className:"w-4 h-4 mr-2"}),"Auto-Match Settings"]})}),t.jsx(l.default,{href:"/business/settings",children:(0,t.jsxs)(o.zx,{variant:"outline",children:[t.jsx(y,{className:"w-4 h-4 mr-2"}),"Business Settings"]})})]})]}),m.slug&&m.public_profile_enabled&&t.jsx("div",{className:"mb-8",children:t.jsx(h,{businessName:m.business_name,slug:m.slug,tagline:m.tagline,isApproved:"approved"===m.verification_status})}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[t.jsx(d.Ai,{title:"Total Lent",value:(0,u.xG)(S),subtitle:"Active loans",icon:N.Z}),t.jsx(d.Ai,{title:"Collected",value:(0,u.xG)(A),subtitle:"Repayments received",icon:k.Z}),t.jsx(d.Ai,{title:"Active Borrowers",value:q.length,subtitle:"Current loans",icon:C}),t.jsx(d.Ai,{title:"Pending Requests",value:z.length,subtitle:"Awaiting approval",icon:w.Z})]}),z.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-lg font-display font-semibold text-neutral-900 mb-4",children:"Pending Loan Requests"}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(e=>t.jsx(x,{loan:e},e.id))})]}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-lg font-display font-semibold text-neutral-900 mb-4",children:"Active Loans"}),q.length>0?t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map(e=>t.jsx(c.h$,{loan:e,role:"lender"},e.id))}):(0,t.jsxs)(o.Zb,{className:"text-center py-12",children:[t.jsx(C,{className:"w-12 h-12 text-neutral-300 mx-auto mb-4"}),t.jsx("h3",{className:"font-semibold text-neutral-900 mb-2",children:"No active loans"}),t.jsx("p",{className:"text-neutral-500",children:"When borrowers request loans from your business, they'll appear here"})]})]})]})}),t.jsx(i.$,{})]})}}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[9276,3786,9702,1199,8596,861,9821,4723,2401,1402,6681,2333,9668,389],()=>r(45358));module.exports=t})();