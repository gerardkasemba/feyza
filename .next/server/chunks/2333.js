"use strict";exports.id=2333,exports.ids=[2333],exports.modules={37358:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},32933:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},11890:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},48998:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9015:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},82685:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]])},58038:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},33734:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},24061:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},3634:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},97162:(e,t,s)=>{s.d(t,{DisbursementMethodForm:()=>m});var a=s(10326);s(17577);var l=s(34683),r=s(87888),n=s(32933);let i={paypal:{name:"PayPal",color:"#0070ba",icon:"\uD83D\uDCB3",description:"Receive payment directly to your PayPal account"},cashapp:{name:"Cash App",color:"#00d632",icon:"\uD83D\uDCB5",description:"Receive payment to your Cash App account"},venmo:{name:"Venmo",color:"#3d95ce",icon:"\uD83D\uDCB8",description:"Receive payment to your Venmo account"}};function m({value:e,onChange:t,preferredMethod:s,paypalEmail:m,cashappUsername:o,venmoUsername:d}){let c=e=>{switch(e){case"paypal":return m;case"cashapp":return o;case"venmo":return d}},x=[];m&&x.push("paypal"),o&&x.push("cashapp"),d&&x.push("venmo");let u=0===x.length;return a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-3",children:"Receive Payment Via"}),u?a.jsx(l.Zb,{className:"bg-yellow-50 border-yellow-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(r.Z,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-yellow-800",children:"No payment methods configured"}),(0,a.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:["Please go to ",a.jsx("strong",{children:"Settings → Payments"})," to set up your payment methods (PayPal, Cash App, or Venmo) before requesting a loan."]})]})]})}):a.jsx("div",{className:"space-y-3",children:x.map(r=>{let m=i[r],o=c(r),d=e.disbursement_method===r,x=r===s;return a.jsx(l.Zb,{className:`cursor-pointer transition-all ${d?"ring-2 ring-primary-500 border-primary-500 bg-primary-50/50":"hover:border-neutral-300"}`,onClick:()=>t({disbursement_method:r}),children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:m.color+"20"},children:m.icon}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium text-neutral-900",children:m.name}),x&&a.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-full",children:"⭐ Preferred"}),d&&(0,a.jsxs)("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full flex items-center gap-1",children:[a.jsx(n.Z,{className:"w-3 h-3"}),"Selected"]})]}),a.jsx("p",{className:"text-sm text-neutral-500",children:m.description}),o&&(0,a.jsxs)("p",{className:"text-sm text-neutral-600 mt-1",children:[a.jsx("span",{className:"font-medium",children:"Account:"})," ","paypal"===r?o:`$${o}`]})]}),a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${d?"border-primary-500 bg-primary-500":"border-neutral-300"}`,children:d&&a.jsx(n.Z,{className:"w-3 h-3 text-white"})})]})},r)})}),x.length>0&&x.length<3&&(0,a.jsxs)("p",{className:"text-sm text-neutral-500 mt-3",children:["\uD83D\uDCA1 You can add more payment methods in ",a.jsx("strong",{children:"Settings → Payments"}),"."]})]})})}},62333:(e,t,s)=>{s.d(t,{LoanRequestForm:()=>S});var a=s(10326),l=s(17577),r=s(74723),n=s(34683),i=s(51223),m=s(38896),o=s(97162),d=s(87888),c=s(28916),x=s(32933),u=s(33734),h=s(9015),p=s(17069),y=s(59734),b=s(18019),j=s(3634),f=s(58038),g=s(24061),N=s(39183),v=s(11890),w=s(82685),k=s(37358),Z=s(48998),P=s(36283),A=s(37202);function S({businesses:e,preferredLender:t,userPayPalConnected:s,userVerificationStatus:S,userPaypalEmail:C,userCashappUsername:q,userVenmoUsername:F,userPreferredPaymentMethod:I,onSubmit:T,onConnectPayPal:_,onStartVerification:B}){let[G,R]=(0,l.useState)(t?2:1),[D,M]=(0,l.useState)(t?"business":null),[$,L]=(0,l.useState)(!1),[U,E]=(0,l.useState)(null),[Y,z]=(0,l.useState)(null),[V,O]=(0,l.useState)(t||null),[H,W]=(0,l.useState)(!1),[K,J]=(0,l.useState)(!1),[Q,X]=(0,l.useState)(null),[ee,et]=(0,l.useState)(null),[es,ea]=(0,l.useState)(!0),[el,er]=(0,l.useState)({disbursement_method:"paypal"}),[en,ei]=(0,l.useState)(!0),[em,eo]=(0,l.useState)(null),{register:ed,setValue:ec,watch:ex,getValues:eu}=(0,r.cI)({defaultValues:{currency:"USD",repaymentFrequency:"monthly",interestRate:0,interestType:"simple"}});ex("businessId");let eh=ex("amount")||0,ep=ex("totalInstallments")||0,ey=ex("repaymentFrequency")||"monthly",eb=ex("interestRate")||0,ej=ex("interestType")||"simple",ef=ex("inviteEmail"),eg=ex("invitePhone"),eN=ex("startDate"),ev=(0,i.K2)(ep||1,ey),ew=(0,i.aT)(eh,eb,ev,ej),ek=eh+ew,eZ=ep>0?ek/ep:0,eP=(0,l.useMemo)(()=>(0,m.U)(eh),[eh]),eA=null!==em?eP[em]:null,eS="personal"===D&&Q&&Q.borrowingTier&&Q.borrowingTier<6&&null!==Q.availableAmount&&void 0!==Q.availableAmount&&eh>Q.availableAmount,eC=()=>s?D?"personal"===D&&Q&&!Q.canBorrow?(z(Q.reason),!1):"business"!==D||!ee||!!ee.canBorrow||(z(ee.reason||"Unable to borrow from business lenders at this time"),!1):(z("Please select a lender type"),!1):(z("Please connect your PayPal account first"),!1),eq=()=>{if("business"===D);else if("personal"===D){let e=eu("inviteEmail"),t=eu("invitePhone");if(!e&&!t)return z("Please enter an email address or phone number"),!1;if(e&&!e.includes("@"))return z("Please enter a valid email address"),!1}return!0},eF=()=>{let e=eu();if(!e.amount||e.amount<1)return z("Please enter a valid loan amount"),!1;if("personal"===D&&Q&&Q.borrowingTier&&Q.borrowingTier<6){if(null!==Q.availableAmount&&void 0!==Q.availableAmount&&e.amount>Q.availableAmount)return Q.availableAmount<=0?z(`You've reached your borrowing limit of ${(0,i.xG)(Q.maxAmount||0)}. Pay off existing loans to borrow more.`):z(`Amount exceeds your available limit. You can borrow up to ${(0,i.xG)(Q.availableAmount)}.`),!1;if(null!==Q.maxAmount&&void 0!==Q.maxAmount&&e.amount>Q.maxAmount)return z(`Amount exceeds your tier limit of ${(0,i.xG)(Q.maxAmount)}. Complete more loans to increase your limit.`),!1}return"business"===D&&ee&&void 0!==ee.maxAvailableFromBusinesses&&e.amount>ee.maxAvailableFromBusinesses?(z(`No business lenders currently support ${(0,i.xG)(e.amount)}. Try ${(0,i.xG)(ee.maxAvailableFromBusinesses)} or less.`),!1):!e.totalInstallments||e.totalInstallments<1?(z("Please enter the number of installments"),!1):!!e.startDate||(z("Please select a start date"),!1)},eI=()=>el.disbursement_method?"mobile_money"!==el.disbursement_method||el.mobile_money_provider&&el.mobile_money_phone&&el.mobile_money_name?"cash_pickup"!==el.disbursement_method||el.cash_pickup_location&&el.picker_full_name&&el.picker_id_type&&el.picker_id_number?"bank_transfer"!==el.disbursement_method||!!el.bank_name&&!!el.bank_account_name&&!!el.bank_account_number||(z("Please fill in all bank transfer details"),!1):(z("Please fill in all cash pickup details"),!1):(z("Please fill in all mobile money details"),!1):(z("Please select how you want to receive the money"),!1),eT=()=>!!H||(z("Please accept the loan agreement to proceed"),!1),e_=e=>{z(null);(1===G?eC():2===G?eq():3===G?eF():4===G?eI():5!==G||eT())&&R(e)},eB=async e=>{if(e.preventDefault(),!eT())return;let t=eu();L(!0),E(null);try{let e=(0,i.K2)(t.totalInstallments,t.repaymentFrequency),s=(0,i.aT)(t.amount,t.interestRate||0,e,t.interestType||"simple"),a=t.amount+s;t.repaymentAmount=a/t.totalInstallments,t.disbursementMethod="paypal",t.isForRecipient=!1,t.agreementSigned=!0,console.log("Form submit - Simple PayPal flow:",{disbursementMethod:t.disbursementMethod,isForRecipient:t.isForRecipient}),await T(t)}catch(e){console.error("Submit error:",e),E(e.message||"Failed to submit loan request. Please try again.")}finally{L(!1)}},eG=[{value:"weekly",label:"Weekly"},{value:"biweekly",label:"Every 2 weeks"},{value:"monthly",label:"Monthly"},{value:"custom",label:"Custom"}],eR=G/5*100;return(0,a.jsxs)("form",{onSubmit:eB,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-neutral-500 mb-2",children:[(0,a.jsxs)("span",{children:["Step ",G," of ",5]}),(0,a.jsxs)("span",{children:[Math.round(eR),"% complete"]})]}),a.jsx("div",{className:"h-2 bg-neutral-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:`${eR}%`}})})]}),(Y||U)&&(0,a.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3",children:[a.jsx(d.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-red-700",children:Y||U})]}),1===G&&(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[!s&&a.jsx(n.Zb,{className:"bg-yellow-50 border-yellow-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:a.jsx(c.Z,{className:"w-6 h-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-yellow-900",children:"Connect PayPal First"}),a.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"You need to connect your PayPal account before requesting a loan. This ensures secure payment processing."}),(0,a.jsxs)(n.zx,{type:"button",onClick:_,className:"mt-3",size:"sm",children:[a.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Connect PayPal"]})]})]})}),s&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-xl",children:[a.jsx(x.Z,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-sm text-green-700",children:"PayPal connected"})]}),s&&!es&&(0,a.jsxs)(a.Fragment,{children:[(!D||"personal"===D)&&Q&&(0,a.jsxs)(n.Zb,{className:"border-primary-200 bg-gradient-to-br from-primary-50 to-white dark:from-primary-900/20 dark:to-neutral-800",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${6===Q.borrowingTier?"bg-blue-100 dark:bg-blue-900/30 text-blue-600":(Q.borrowingTier??0)>=4?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600":(Q.borrowingTier??0)>=2?"bg-amber-100 dark:bg-amber-900/30 text-amber-600":"bg-gray-100 dark:bg-gray-800 text-gray-600"}`,children:a.jsx(u.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Personal Lending Tier"}),a.jsx("p",{className:"font-semibold text-neutral-900 dark:text-white",children:Q.tierName||"Starter"})]})]}),!Q.canBorrow&&(0,a.jsxs)("div",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium flex items-center gap-1",children:[a.jsx(h.Z,{className:"w-3 h-3"}),"Limited"]})]}),a.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 border border-neutral-100 dark:border-neutral-700",children:6===Q.borrowingTier?(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Borrowing Limit"}),a.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:"Unlimited ✨"}),Q.totalOutstanding>0&&(0,a.jsxs)("p",{className:"text-xs text-neutral-400 mt-1",children:["Outstanding: ",(0,i.xG)(Q.totalOutstanding)]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Available to Borrow"}),a.jsx("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:(0,i.xG)(Q.availableAmount||0)})]}),a.jsx("div",{className:"h-3 bg-neutral-200 dark:bg-neutral-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary-500 transition-all",style:{width:`${Q.maxAmount?(Q.availableAmount||0)/Q.maxAmount*100:0}%`}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-neutral-400 mt-1",children:[(0,a.jsxs)("span",{children:["Outstanding: ",(0,i.xG)(Q.totalOutstanding)]}),(0,a.jsxs)("span",{children:["Tier Max: ",(0,i.xG)(Q.maxAmount||0)]})]})]})}),!Q.canBorrow&&Q.reason&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-2",children:[a.jsx(d.Z,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:Q.reason})]}),Q.borrowingTier&&Q.borrowingTier<6&&(Q.loansNeededToUpgrade??0)>0&&a.jsx("div",{className:"mt-3 pt-3 border-t border-neutral-100 dark:border-neutral-700",children:a.jsx("div",{className:"flex items-center justify-between text-sm",children:(0,a.jsxs)("span",{className:"text-neutral-600 dark:text-neutral-400",children:[a.jsx(p.Z,{className:"w-4 h-4 inline mr-1 text-green-600"}),Q.loansNeededToUpgrade," more loan",(Q.loansNeededToUpgrade??0)>1?"s":""," to unlock ",(0,i.xG)(Q.nextTierAmount||0)]})})})]}),"business"===D&&ee&&(0,a.jsxs)(n.Zb,{className:"border-teal-200 dark:border-teal-800 bg-gradient-to-br from-teal-50 to-white dark:from-teal-900/20 dark:to-neutral-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-teal-100 dark:bg-teal-900/30 flex items-center justify-center",children:a.jsx(y.Z,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Business Lender Matching"}),a.jsx("p",{className:"font-semibold text-neutral-900 dark:text-white",children:ee.isFirstTimeBorrower?"First-Time Borrower":"Returning Borrower"})]})]}),a.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 border border-neutral-100 dark:border-neutral-700",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Maximum Available from Lenders"}),a.jsx("p",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400",children:ee.maxAvailableFromBusinesses?(0,i.xG)(ee.maxAvailableFromBusinesses):"No lenders available"})]})}),ee.isFirstTimeBorrower&&a.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:[a.jsx(b.Z,{className:"w-4 h-4 inline mr-1"}),a.jsx("strong",{children:"First-time borrower:"})," You'll be matched with lenders who accept new borrowers at your requested amount."]})}),ee.message&&a.jsx("p",{className:"mt-3 text-sm text-neutral-600 dark:text-neutral-400",children:ee.message})]})]}),(0,a.jsxs)("div",{className:"text-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Who do you want to borrow from?"}),a.jsx("p",{className:"text-neutral-500",children:"Choose your lender type to get started"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(n.Zb,{hover:!0,className:`cursor-pointer transition-all ${"business"===D?"ring-2 ring-primary-500 border-primary-500":""} ${s&&"verified"===S?"":"opacity-50 pointer-events-none"}`,onClick:()=>{s&&"verified"===S&&(M("business"),ec("lenderType","business"),z(null))},children:(0,a.jsxs)("div",{className:"text-center py-6",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-primary-100 to-yellow-100 rounded-2xl flex items-center justify-center",children:a.jsx(y.Z,{className:"w-8 h-8 text-primary-600"})}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-lg text-neutral-900",children:"Business Lender"}),a.jsx(j.Z,{className:"w-4 h-4 text-yellow-500"})]}),a.jsx("p",{className:"text-sm text-neutral-500",children:"We'll instantly match you with the best available lender"}),"verified"!==S&&(0,a.jsxs)("p",{className:"text-xs text-yellow-600 mt-2 flex items-center justify-center gap-1",children:[a.jsx(f.Z,{className:"w-3 h-3"}),"Requires verification"]})]})}),a.jsx(n.Zb,{hover:!0,className:`cursor-pointer transition-all ${"personal"===D?"ring-2 ring-primary-500 border-primary-500":""} ${s?"":"opacity-50 pointer-events-none"}`,onClick:()=>{s&&(M("personal"),ec("lenderType","personal"),ec("interestRate",0),z(null))},children:(0,a.jsxs)("div",{className:"text-center py-6",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-accent-100 rounded-2xl flex items-center justify-center",children:a.jsx(g.Z,{className:"w-8 h-8 text-accent-600"})}),a.jsx("h3",{className:"font-semibold text-lg text-neutral-900 mb-2",children:"Friend or Family"}),a.jsx("p",{className:"text-sm text-neutral-500",children:"Send an invite to someone you know"})]})})]}),s&&"verified"!==S&&a.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(f.Z,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-yellow-800",children:"Verification Required for Business Loans"}),a.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"submitted"===S?"Your verification is being reviewed. You can still borrow from friends and family.":"Complete your verification to borrow from registered businesses. You can still borrow from friends and family without verification."}),"submitted"!==S&&B&&(0,a.jsxs)(n.zx,{type:"button",size:"sm",className:"mt-3",onClick:B,children:[a.jsx(f.Z,{className:"w-4 h-4 mr-2"}),"Start Verification"]})]})]})}),a.jsx("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(n.zx,{type:"button",onClick:()=>e_(2),disabled:!D||!s,children:["Continue",a.jsx(N.Z,{className:"w-4 h-4 ml-1"})]})})]}),2===G&&(0,a.jsxs)("div",{className:"space-y-4 animate-fade-in",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{R(1),z(null)},className:"flex items-center gap-1 text-sm text-neutral-500 hover:text-neutral-700",children:[a.jsx(v.Z,{className:"w-4 h-4"}),"Back"]}),"business"===D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Auto-Match Enabled"}),a.jsx("p",{className:"text-neutral-500",children:"We'll find the best lender for you automatically"})]}),a.jsx(n.Zb,{className:"bg-gradient-to-br from-primary-50 to-yellow-50 border-primary-200",children:(0,a.jsxs)("div",{className:"text-center py-6",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-primary-100 to-yellow-100 rounded-full flex items-center justify-center",children:a.jsx(j.Z,{className:"w-8 h-8 text-primary-600"})}),a.jsx("h3",{className:"font-semibold text-lg text-neutral-900 mb-2",children:"How It Works"}),(0,a.jsxs)("div",{className:"text-left max-w-md mx-auto space-y-3 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary-200 flex items-center justify-center flex-shrink-0 text-sm font-bold text-primary-800",children:"1"}),a.jsx("p",{className:"text-sm text-neutral-600",children:"You submit your loan request with your terms"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary-200 flex items-center justify-center flex-shrink-0 text-sm font-bold text-primary-800",children:"2"}),a.jsx("p",{className:"text-sm text-neutral-600",children:"Our system finds business lenders matching your needs"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary-200 flex items-center justify-center flex-shrink-0 text-sm font-bold text-primary-800",children:"3"}),a.jsx("p",{className:"text-sm text-neutral-600",children:"Best match funds your loan instantly or within 24h"})]})]})]})}),(0,a.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3",children:[a.jsx(x.Z,{className:"w-5 h-5 text-green-600 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-green-800",children:"No browsing required"}),a.jsx("p",{className:"text-sm text-green-700",children:"Continue to set your loan details and we'll handle the rest"})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Invite Your Lender"}),a.jsx("p",{className:"text-neutral-500",children:"Enter their contact information to send an invite"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(n.II,{label:"Email Address",type:"email",placeholder:"friend@example.com",...ed("inviteEmail"),onChange:e=>{ec("inviteEmail",e.target.value),z(null)}}),a.jsx("div",{className:"text-center text-sm text-neutral-400",children:"or"}),a.jsx(n.II,{label:"Phone Number",type:"tel",placeholder:"+1 234 567 8900",...ed("invitePhone"),onChange:e=>{ec("invitePhone",e.target.value),z(null)}}),a.jsx("div",{className:"pt-4 border-t border-neutral-200",children:a.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(b.Z,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-blue-900",children:"Interest rate set by lender"}),a.jsx("p",{className:"text-blue-700",children:"Your friend or family member will set the interest rate (if any) when they accept your request."})]})]})})})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(n.zx,{type:"button",onClick:()=>e_(3),disabled:!("business"===D||ef||eg),children:["Continue",a.jsx(N.Z,{className:"w-4 h-4 ml-1"})]})})]}),3===G&&(0,a.jsxs)("div",{className:"space-y-4 animate-fade-in",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{R(2),z(null)},className:"flex items-center gap-1 text-sm text-neutral-500 hover:text-neutral-700",children:[a.jsx(v.Z,{className:"w-4 h-4"}),"Back"]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Loan Details"}),a.jsx("p",{className:"text-neutral-500",children:"Specify the amount and repayment terms"})]}),"business"===D&&V&&V.default_interest_rate>0&&(0,a.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl flex items-start gap-3",children:[a.jsx(b.Z,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("p",{className:"font-medium text-blue-900",children:[V.business_name," charges ",(0,i.rl)(V.default_interest_rate)," APR"]}),(0,a.jsxs)("p",{className:"text-blue-700",children:["Interest type: ","compound"===V.interest_type?"Compound":"Simple"]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(n.II,{label:"Principal Amount *",type:"number",placeholder:"1000",min:"1",max:"personal"===D&&Q?.borrowingTier!==6&&Q?.availableAmount||void 0,...ed("amount",{valueAsNumber:!0})}),"personal"===D&&Q&&Q.borrowingTier&&Q.borrowingTier<6&&a.jsx("p",{className:`text-xs mt-1 ${eS?"text-red-600 font-medium":"text-neutral-500 dark:text-neutral-400"}`,children:eS?(0,a.jsxs)(a.Fragment,{children:[a.jsx(d.Z,{className:"w-3 h-3 inline mr-1"}),"Exceeds your limit! Max: ",(0,i.xG)(Q.availableAmount||0)]}):(0,a.jsxs)(a.Fragment,{children:["Available: ",(0,i.xG)(Q.availableAmount||0)]})}),"business"===D&&ee&&(0,a.jsxs)("p",{className:"text-xs mt-1 text-teal-600 dark:text-teal-400",children:[a.jsx(b.Z,{className:"w-3 h-3 inline mr-1"}),ee.isFirstTimeBorrower?`First-time borrower — you'll be matched with lenders accepting up to ${(0,i.xG)(ee.maxAvailableFromBusinesses||0)}`:`Max available from lenders: ${(0,i.xG)(ee.maxAvailableFromBusinesses||0)}`]})]}),a.jsx(n.Ph,{label:"Currency *",options:[{value:"USD",label:"USD ($)"},{value:"EUR",label:"EUR (€)"},{value:"GBP",label:"GBP (\xa3)"},{value:"NGN",label:"NGN (₦)"},{value:"GHS",label:"GHS (₵)"},{value:"KES",label:"KES (KSh)"}],...ed("currency")})]}),a.jsx(n.II,{label:"Purpose (optional)",placeholder:"e.g., Business supplies, emergency, etc.",...ed("purpose")}),eh>0&&eP.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Repayment Schedule *"}),a.jsx("button",{type:"button",onClick:()=>ei(!en),className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:en?(0,a.jsxs)(a.Fragment,{children:[a.jsx(w.Z,{className:"w-4 h-4"}),"Custom schedule"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(j.Z,{className:"w-4 h-4"}),"Use presets"]})})]}),en?a.jsx("div",{className:"grid gap-3",children:eP.map((e,t)=>a.jsx("button",{type:"button",onClick:()=>eo(t),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${em===t?"border-primary-500 bg-primary-50":"border-neutral-200 hover:border-neutral-300"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${em===t?"bg-primary-100":"bg-neutral-100"}`,children:a.jsx(k.Z,{className:`w-5 h-5 ${em===t?"text-primary-600":"text-neutral-500"}`})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-neutral-900",children:e.label}),(0,a.jsxs)("p",{className:"text-sm text-neutral-500",children:["weekly"===e.frequency?"Weekly":"biweekly"===e.frequency?"Bi-weekly":"Monthly"," payments"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-neutral-900",children:(0,i.xG)(e.paymentAmount)}),a.jsx("p",{className:"text-xs text-neutral-500",children:"per payment"})]})]})},t))}):(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(n.Ph,{label:"Repayment Frequency",options:eG,...ed("repaymentFrequency")}),a.jsx(n.II,{label:"Number of Installments",type:"number",placeholder:"10",min:"1",...ed("totalInstallments",{valueAsNumber:!0})})]}),eA&&en&&(0,a.jsxs)("div",{className:"p-3 bg-primary-50 rounded-lg flex items-center gap-2 text-primary-700 text-sm",children:[a.jsx(Z.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["You'll pay ",(0,i.xG)(eA.paymentAmount)," ",eA.frequency," for ",eA.installments," ",1===eA.installments?"payment":"payments"]})]})]}),(!eh||eh<=0)&&(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(n.Ph,{label:"Repayment Frequency *",options:eG,...ed("repaymentFrequency")}),a.jsx(n.II,{label:"Number of Installments *",type:"number",placeholder:"10",min:"1",...ed("totalInstallments",{valueAsNumber:!0})})]}),a.jsx(n.II,{label:"Start Date *",type:"date",...ed("startDate")}),eh>0&&ep>0&&(0,a.jsxs)("div",{className:"p-4 bg-neutral-50 rounded-xl space-y-2",children:[a.jsx("h4",{className:"font-semibold text-neutral-900",children:"Loan Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsx("span",{className:"text-neutral-500",children:"Principal:"}),a.jsx("span",{className:"text-right font-medium",children:(0,i.xG)(eh)}),eb>0&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-neutral-500",children:"Interest Rate:"}),(0,a.jsxs)("span",{className:"text-right font-medium",children:[(0,i.rl)(eb)," APR"]}),a.jsx("span",{className:"text-neutral-500",children:"Total Interest:"}),a.jsx("span",{className:"text-right font-medium text-orange-600",children:(0,i.xG)(ew)})]}),a.jsx("span",{className:"text-neutral-500 font-medium",children:"Total to Repay:"}),a.jsx("span",{className:"text-right font-bold text-primary-600",children:(0,i.xG)(ek)}),a.jsx("span",{className:"text-neutral-500",children:"Per Installment:"}),a.jsx("span",{className:"text-right font-medium",children:(0,i.xG)(eZ)})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(n.zx,{type:"button",onClick:()=>e_(4),disabled:!(eh>0&&ep>0&&eN),children:["Continue",a.jsx(N.Z,{className:"w-4 h-4 ml-1"})]})})]}),4===G&&(0,a.jsxs)("div",{className:"space-y-4 animate-fade-in",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{R(3),z(null)},className:"flex items-center gap-1 text-sm text-neutral-500 hover:text-neutral-700",children:[a.jsx(v.Z,{className:"w-4 h-4"}),"Back"]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"How to Receive Money"}),a.jsx("p",{className:"text-neutral-500",children:"Choose how you or your recipient will receive the funds"})]}),a.jsx(o.DisbursementMethodForm,{value:el,onChange:er,showRecipientOption:!0,preferredMethod:I,paypalEmail:C,cashappUsername:q,venmoUsername:F}),a.jsx("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(n.zx,{type:"button",onClick:()=>e_(5),children:["Continue",a.jsx(N.Z,{className:"w-4 h-4 ml-1"})]})})]}),5===G&&(0,a.jsxs)("div",{className:"space-y-4 animate-fade-in",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{R(4),z(null),E(null)},className:"flex items-center gap-1 text-sm text-neutral-500 hover:text-neutral-700",children:[a.jsx(v.Z,{className:"w-4 h-4"}),"Back"]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Review & Sign Agreement"}),a.jsx("p",{className:"text-neutral-500",children:"Please review the loan terms and sign the agreement"})]}),(0,a.jsxs)(n.Zb,{className:"bg-primary-50 border-primary-200",children:[a.jsx("h4",{className:"font-semibold text-primary-900 mb-3",children:"Loan Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsx("span",{className:"text-primary-700",children:"Principal:"}),a.jsx("span",{className:"text-right font-medium text-primary-900",children:(0,i.xG)(eh)}),a.jsx("span",{className:"text-primary-700",children:"Total to Repay:"}),a.jsx("span",{className:"text-right font-bold text-primary-900",children:(0,i.xG)(ek)}),a.jsx("span",{className:"text-primary-700",children:"Installments:"}),(0,a.jsxs)("span",{className:"text-right font-medium text-primary-900",children:[ep," \xd7 ",(0,i.xG)(eZ)]}),a.jsx("span",{className:"text-primary-700",children:"Start Date:"}),a.jsx("span",{className:"text-right font-medium text-primary-900",children:eN?new Date(eN).toLocaleDateString():"-"})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-neutral-900 flex items-center gap-2",children:[a.jsx(P.Z,{className:"w-4 h-4"}),"Loan Agreement Terms"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>J(!K),className:"text-sm text-primary-600 hover:text-primary-700",children:[K?"Hide":"Show"," full terms"]})]}),K&&(0,a.jsxs)("div",{className:"text-sm text-neutral-600 space-y-3 max-h-64 overflow-y-auto mb-4 p-4 bg-neutral-50 rounded-lg",children:[a.jsx("p",{children:a.jsx("strong",{children:"1. Loan Agreement"})}),(0,a.jsxs)("p",{children:["I agree to borrow ",(0,i.xG)(eh)," and repay a total of ",(0,i.xG)(ek),"according to the payment schedule."]}),a.jsx("p",{children:a.jsx("strong",{children:"2. Repayment Terms"})}),(0,a.jsxs)("p",{children:["I will make ",ep," payments of ",(0,i.xG)(eZ)," each."]}),a.jsx("p",{children:a.jsx("strong",{children:"3. Late Payments"})}),a.jsx("p",{children:"I understand that late payments may affect my relationship with the lender and I will communicate any payment difficulties promptly."}),a.jsx("p",{children:a.jsx("strong",{children:"4. Digital Signatures"})}),a.jsx("p",{children:"I acknowledge that my digital signature on this platform is legally binding."})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-xl mb-4",children:[a.jsx(A.Z,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),a.jsx("div",{className:"text-sm text-yellow-800",children:"By signing, you agree to repay this loan according to the terms above. This is a legally binding agreement."})]}),(0,a.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:H,onChange:e=>{W(e.target.checked),z(null)},className:"mt-1 w-4 h-4 text-primary-600 rounded border-neutral-300 focus:ring-primary-500"}),a.jsx("span",{className:"text-sm text-neutral-700",children:"I have read, understood, and agree to the loan agreement terms. I commit to repaying this loan as agreed."})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(n.zx,{type:"submit",loading:$,disabled:!H,children:[a.jsx(P.Z,{className:"w-4 h-4 mr-2"}),"Sign & Submit Request"]})})]})]})}},38896:(e,t,s)=>{function a(e){if(!e||e<=0)return[];let t=[];return e<=100?(t.push({frequency:"weekly",installments:1,label:"Pay in full (1 week)"}),t.push({frequency:"weekly",installments:2,label:"2 weekly payments"}),e>=50&&t.push({frequency:"weekly",installments:4,label:"4 weekly payments"})):e<=500?(t.push({frequency:"weekly",installments:2,label:"2 weekly payments"}),t.push({frequency:"weekly",installments:4,label:"4 weekly payments"}),t.push({frequency:"monthly",installments:2,label:"2 monthly payments"}),e>=200&&t.push({frequency:"monthly",installments:3,label:"3 monthly payments"})):e<=2e3?(t.push({frequency:"monthly",installments:2,label:"2 monthly payments"}),t.push({frequency:"monthly",installments:3,label:"3 monthly payments"}),t.push({frequency:"monthly",installments:4,label:"4 monthly payments"}),t.push({frequency:"monthly",installments:6,label:"6 monthly payments"})):e<=1e4?(t.push({frequency:"monthly",installments:3,label:"3 monthly payments"}),t.push({frequency:"monthly",installments:6,label:"6 monthly payments"}),t.push({frequency:"monthly",installments:9,label:"9 monthly payments"}),t.push({frequency:"monthly",installments:12,label:"12 monthly payments"})):(t.push({frequency:"monthly",installments:6,label:"6 monthly payments"}),t.push({frequency:"monthly",installments:12,label:"12 monthly payments"}),t.push({frequency:"monthly",installments:18,label:"18 monthly payments"}),t.push({frequency:"monthly",installments:24,label:"24 monthly payments"})),t.map(t=>({...t,paymentAmount:Math.ceil(e/t.installments)}))}s.d(t,{U:()=>a})}};