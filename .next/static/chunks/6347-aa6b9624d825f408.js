"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6347],{1047:function(e,t,s){s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},401:function(e,t,s){s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},2451:function(e,t,s){s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1723:function(e,t,s){s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6337:function(e,t,s){s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},2207:function(e,t,s){s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]])},8906:function(e,t,s){s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},6595:function(e,t,s){s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5805:function(e,t,s){s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1239:function(e,t,s){s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},7246:function(e,t,s){s.d(t,{DisbursementMethodForm:function(){return c}});var a=s(7437),l=s(2265),n=s(2573),r=s(2252),i=s(401);let m={paypal:{name:"PayPal",color:"#0070ba",icon:"\uD83D\uDCB3",description:"Receive payment directly to your PayPal account"},cashapp:{name:"Cash App",color:"#00d632",icon:"\uD83D\uDCB5",description:"Receive payment to your Cash App account"},venmo:{name:"Venmo",color:"#3d95ce",icon:"\uD83D\uDCB8",description:"Receive payment to your Venmo account"}};function c(e){let{value:t,onChange:s,preferredMethod:c,paypalEmail:o,cashappUsername:d,venmoUsername:x}=e;l.useEffect(()=>{let e=[];o&&e.push("paypal"),d&&e.push("cashapp"),x&&e.push("venmo");let a=c&&e.includes(c)?c:e[0]||"paypal";t.disbursement_method!==a&&s({disbursement_method:a})},[c,o,d,x]);let u=e=>{switch(e){case"paypal":return o;case"cashapp":return d;case"venmo":return x}},h=[];o&&h.push("paypal"),d&&h.push("cashapp"),x&&h.push("venmo");let p=0===h.length;return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-3",children:"Receive Payment Via"}),p?(0,a.jsx)(n.Zb,{className:"bg-yellow-50 border-yellow-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(r.Z,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-yellow-800",children:"No payment methods configured"}),(0,a.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:["Please go to ",(0,a.jsx)("strong",{children:"Settings → Payments"})," to set up your payment methods (PayPal, Cash App, or Venmo) before requesting a loan."]})]})]})}):(0,a.jsx)("div",{className:"space-y-3",children:h.map(e=>{let l=m[e],r=u(e),o=t.disbursement_method===e,d=e===c;return(0,a.jsx)(n.Zb,{className:"cursor-pointer transition-all ".concat(o?"ring-2 ring-primary-500 border-primary-500 bg-primary-50/50":"hover:border-neutral-300"),onClick:()=>s({disbursement_method:e}),children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:l.color+"20"},children:l.icon}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-medium text-neutral-900",children:l.name}),d&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-full",children:"⭐ Preferred"}),o&&(0,a.jsxs)("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full flex items-center gap-1",children:[(0,a.jsx)(i.Z,{className:"w-3 h-3"}),"Selected"]})]}),(0,a.jsx)("p",{className:"text-sm text-neutral-500",children:l.description}),r&&(0,a.jsxs)("p",{className:"text-sm text-neutral-600 mt-1",children:[(0,a.jsx)("span",{className:"font-medium",children:"Account:"})," ","paypal"===e?r:"$".concat(r)]})]}),(0,a.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center ".concat(o?"border-primary-500 bg-primary-500":"border-neutral-300"),children:o&&(0,a.jsx)(i.Z,{className:"w-3 h-3 text-white"})})]})},e)})}),h.length>0&&h.length<3&&(0,a.jsxs)("p",{className:"text-sm text-neutral-500 mt-3",children:["\uD83D\uDCA1 You can add more payment methods in ",(0,a.jsx)("strong",{children:"Settings → Payments"}),"."]})]})})}},6347:function(e,t,s){s.d(t,{LoanRequestForm:function(){return C}});var a=s(7437),l=s(2265),n=s(9501),r=s(2573),i=s(3448),m=s(9319),c=s(7246),o=s(2252),d=s(8226),x=s(401),u=s(6595),h=s(6337),p=s(525),y=s(8420),b=s(3245),f=s(1239),j=s(8906),g=s(5805),N=s(407),v=s(2451),w=s(2207),k=s(1047),Z=s(1723),P=s(8736),A=s(3639);function C(e){var t,s,C,S;let{businesses:_,preferredLender:q,userPayPalConnected:F,userVerificationStatus:I,userPaypalEmail:T,userCashappUsername:B,userVenmoUsername:G,userPreferredPaymentMethod:R,onSubmit:D,onConnectPayPal:M,onStartVerification:E}=e,[L,U]=(0,l.useState)(q?2:1),[Y,z]=(0,l.useState)(q?"business":null),[V,O]=(0,l.useState)(!1),[H,W]=(0,l.useState)(null),[K,$]=(0,l.useState)(null),[J,Q]=(0,l.useState)(q||null),[X,ee]=(0,l.useState)(!1),[et,es]=(0,l.useState)(!1),[ea,el]=(0,l.useState)(null),[en,er]=(0,l.useState)(null),[ei,em]=(0,l.useState)(!0),[ec,eo]=(0,l.useState)({disbursement_method:"paypal"}),[ed,ex]=(0,l.useState)(!0),[eu,eh]=(0,l.useState)(null),{register:ep,setValue:ey,watch:eb,getValues:ef}=(0,n.cI)({defaultValues:{currency:"USD",repaymentFrequency:"monthly",interestRate:0,interestType:"simple"}}),ej=eb("businessId"),eg=eb("amount")||0,eN=eb("totalInstallments")||0,ev=eb("repaymentFrequency")||"monthly",ew=eb("interestRate")||0,ek=eb("interestType")||"simple",eZ=eb("inviteEmail"),eP=eb("invitePhone"),eA=eb("startDate"),eC=(0,i.K2)(eN||1,ev),eS=(0,i.aT)(eg,ew,eC,ek),e_=eg+eS,eq=eN>0?e_/eN:0,eF=(0,l.useMemo)(()=>(0,m.U)(eg),[eg]),eI=null!==eu?eF[eu]:null;(0,l.useEffect)(()=>{eh(null)},[eg]),(0,l.useEffect)(()=>{eI&&ed&&(ey("repaymentFrequency",eI.frequency),ey("totalInstallments",eI.installments))},[eI,ed,ey]),(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/borrower/eligibility?lender_type=personal");if(e.ok){let t=await e.json();el(t)}let t=await fetch("/api/borrower/eligibility?lender_type=business");if(t.ok){let e=await t.json();er(e)}}catch(e){console.error("Failed to fetch borrowing limit:",e)}finally{em(!1)}})()},[]),(0,l.useEffect)(()=>{if(ej){let e=_.find(e=>e.id===ej);e&&(Q(e),ey("interestRate",e.default_interest_rate||0),ey("interestType",e.interest_type||"simple"))}},[ej,_,ey]);let eT="personal"===Y&&ea&&ea.borrowingTier&&ea.borrowingTier<6&&null!==ea.availableAmount&&void 0!==ea.availableAmount&&eg>ea.availableAmount,eB=()=>F?Y?"personal"===Y&&ea&&!ea.canBorrow?($(ea.reason),!1):"business"!==Y||!en||!!en.canBorrow||($(en.reason||"Unable to borrow from business lenders at this time"),!1):($("Please select a lender type"),!1):($("Please connect your PayPal account first"),!1),eG=()=>{if("business"===Y);else if("personal"===Y){let e=ef("inviteEmail"),t=ef("invitePhone");if(!e&&!t)return $("Please enter an email address or phone number"),!1;if(e&&!e.includes("@"))return $("Please enter a valid email address"),!1}return!0},eR=()=>{let e=ef();if(!e.amount||e.amount<1)return $("Please enter a valid loan amount"),!1;if("personal"===Y&&ea&&ea.borrowingTier&&ea.borrowingTier<6){if(null!==ea.availableAmount&&void 0!==ea.availableAmount&&e.amount>ea.availableAmount)return ea.availableAmount<=0?$("You've reached your borrowing limit of ".concat((0,i.xG)(ea.maxAmount||0),". Pay off existing loans to borrow more.")):$("Amount exceeds your available limit. You can borrow up to ".concat((0,i.xG)(ea.availableAmount),".")),!1;if(null!==ea.maxAmount&&void 0!==ea.maxAmount&&e.amount>ea.maxAmount)return $("Amount exceeds your tier limit of ".concat((0,i.xG)(ea.maxAmount),". Complete more loans to increase your limit.")),!1}return"business"===Y&&en&&void 0!==en.maxAvailableFromBusinesses&&e.amount>en.maxAvailableFromBusinesses?($("No business lenders currently support ".concat((0,i.xG)(e.amount),". Try ").concat((0,i.xG)(en.maxAvailableFromBusinesses)," or less.")),!1):!e.totalInstallments||e.totalInstallments<1?($("Please enter the number of installments"),!1):!!e.startDate||($("Please select a start date"),!1)},eD=()=>ec.disbursement_method?"mobile_money"!==ec.disbursement_method||ec.mobile_money_provider&&ec.mobile_money_phone&&ec.mobile_money_name?"cash_pickup"!==ec.disbursement_method||ec.cash_pickup_location&&ec.picker_full_name&&ec.picker_id_type&&ec.picker_id_number?"bank_transfer"!==ec.disbursement_method||!!ec.bank_name&&!!ec.bank_account_name&&!!ec.bank_account_number||($("Please fill in all bank transfer details"),!1):($("Please fill in all cash pickup details"),!1):($("Please fill in all mobile money details"),!1):($("Please select how you want to receive the money"),!1),eM=()=>!!X||($("Please accept the loan agreement to proceed"),!1),eE=e=>{$(null);(1===L?eB():2===L?eG():3===L?eR():4===L?eD():5!==L||eM())&&U(e)},eL=async e=>{if(e.preventDefault(),!eM())return;let t=ef();O(!0),W(null);try{let e=(0,i.K2)(t.totalInstallments,t.repaymentFrequency),s=(0,i.aT)(t.amount,t.interestRate||0,e,t.interestType||"simple"),a=t.amount+s;t.repaymentAmount=a/t.totalInstallments,t.disbursementMethod="paypal",t.isForRecipient=!1,t.agreementSigned=!0,console.log("Form submit - Simple PayPal flow:",{disbursementMethod:t.disbursementMethod,isForRecipient:t.isForRecipient}),await D(t)}catch(e){console.error("Submit error:",e),W(e.message||"Failed to submit loan request. Please try again.")}finally{O(!1)}},eU=[{value:"weekly",label:"Weekly"},{value:"biweekly",label:"Every 2 weeks"},{value:"monthly",label:"Monthly"},{value:"custom",label:"Custom"}],eY=L/5*100;return(0,a.jsxs)("form",{onSubmit:eL,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-neutral-500 mb-2",children:[(0,a.jsxs)("span",{children:["Step ",L," of ",5]}),(0,a.jsxs)("span",{children:[Math.round(eY),"% complete"]})]}),(0,a.jsx)("div",{className:"h-2 bg-neutral-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:"".concat(eY,"%")}})})]}),(K||H)&&(0,a.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,a.jsx)("div",{className:"text-sm text-red-700",children:K||H})]}),1===L&&(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[!F&&(0,a.jsx)(r.Zb,{className:"bg-yellow-50 border-yellow-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"w-6 h-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-yellow-900",children:"Connect PayPal First"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"You need to connect your PayPal account before requesting a loan. This ensures secure payment processing."}),(0,a.jsxs)(r.zx,{type:"button",onClick:M,className:"mt-3",size:"sm",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Connect PayPal"]})]})]})}),F&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-xl",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("span",{className:"text-sm text-green-700",children:"PayPal connected"})]}),F&&!ei&&(0,a.jsxs)(a.Fragment,{children:[(!Y||"personal"===Y)&&ea&&(0,a.jsxs)(r.Zb,{className:"border-primary-200 bg-gradient-to-br from-primary-50 to-white dark:from-primary-900/20 dark:to-neutral-800",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(6===ea.borrowingTier?"bg-blue-100 dark:bg-blue-900/30 text-blue-600":(null!==(t=ea.borrowingTier)&&void 0!==t?t:0)>=4?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600":(null!==(s=ea.borrowingTier)&&void 0!==s?s:0)>=2?"bg-amber-100 dark:bg-amber-900/30 text-amber-600":"bg-gray-100 dark:bg-gray-800 text-gray-600"),children:(0,a.jsx)(u.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Personal Lending Tier"}),(0,a.jsx)("p",{className:"font-semibold text-neutral-900 dark:text-white",children:ea.tierName||"Starter"})]})]}),!ea.canBorrow&&(0,a.jsxs)("div",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium flex items-center gap-1",children:[(0,a.jsx)(h.Z,{className:"w-3 h-3"}),"Limited"]})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 border border-neutral-100 dark:border-neutral-700",children:6===ea.borrowingTier?(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Borrowing Limit"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:"Unlimited ✨"}),ea.totalOutstanding>0&&(0,a.jsxs)("p",{className:"text-xs text-neutral-400 mt-1",children:["Outstanding: ",(0,i.xG)(ea.totalOutstanding)]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Available to Borrow"}),(0,a.jsx)("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:(0,i.xG)(ea.availableAmount||0)})]}),(0,a.jsx)("div",{className:"h-3 bg-neutral-200 dark:bg-neutral-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-primary-500 transition-all",style:{width:"".concat(ea.maxAmount?(ea.availableAmount||0)/ea.maxAmount*100:0,"%")}})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-neutral-400 mt-1",children:[(0,a.jsxs)("span",{children:["Outstanding: ",(0,i.xG)(ea.totalOutstanding)]}),(0,a.jsxs)("span",{children:["Tier Max: ",(0,i.xG)(ea.maxAmount||0)]})]})]})}),!ea.canBorrow&&ea.reason&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-red-700 dark:text-red-400",children:ea.reason})]}),ea.borrowingTier&&ea.borrowingTier<6&&(null!==(C=ea.loansNeededToUpgrade)&&void 0!==C?C:0)>0&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-neutral-100 dark:border-neutral-700",children:(0,a.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,a.jsxs)("span",{className:"text-neutral-600 dark:text-neutral-400",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 inline mr-1 text-green-600"}),ea.loansNeededToUpgrade," more loan",(null!==(S=ea.loansNeededToUpgrade)&&void 0!==S?S:0)>1?"s":""," to unlock ",(0,i.xG)(ea.nextTierAmount||0)]})})})]}),"business"===Y&&en&&(0,a.jsxs)(r.Zb,{className:"border-teal-200 dark:border-teal-800 bg-gradient-to-br from-teal-50 to-white dark:from-teal-900/20 dark:to-neutral-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-teal-100 dark:bg-teal-900/30 flex items-center justify-center",children:(0,a.jsx)(y.Z,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Business Lender Matching"}),(0,a.jsx)("p",{className:"font-semibold text-neutral-900 dark:text-white",children:en.isFirstTimeBorrower?"First-Time Borrower":"Returning Borrower"})]})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 border border-neutral-100 dark:border-neutral-700",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Maximum Available from Lenders"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400",children:en.maxAvailableFromBusinesses?(0,i.xG)(en.maxAvailableFromBusinesses):"No lenders available"})]})}),en.isFirstTimeBorrower&&(0,a.jsx)("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 inline mr-1"}),(0,a.jsx)("strong",{children:"First-time borrower:"})," You'll be matched with lenders who accept new borrowers at your requested amount."]})}),en.message&&(0,a.jsx)("p",{className:"mt-3 text-sm text-neutral-600 dark:text-neutral-400",children:en.message})]})]}),(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Who do you want to borrow from?"}),(0,a.jsx)("p",{className:"text-neutral-500",children:"Choose your lender type to get started"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsx)(r.Zb,{hover:!0,className:"cursor-pointer transition-all ".concat("business"===Y?"ring-2 ring-primary-500 border-primary-500":""," ").concat(F&&"verified"===I?"":"opacity-50 pointer-events-none"),onClick:()=>{F&&"verified"===I&&(z("business"),ey("lenderType","business"),$(null))},children:(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-primary-100 to-yellow-100 rounded-2xl flex items-center justify-center",children:(0,a.jsx)(y.Z,{className:"w-8 h-8 text-primary-600"})}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-neutral-900",children:"Business Lender"}),(0,a.jsx)(f.Z,{className:"w-4 h-4 text-yellow-500"})]}),(0,a.jsx)("p",{className:"text-sm text-neutral-500",children:"We'll instantly match you with the best available lender"}),"verified"!==I&&(0,a.jsxs)("p",{className:"text-xs text-yellow-600 mt-2 flex items-center justify-center gap-1",children:[(0,a.jsx)(j.Z,{className:"w-3 h-3"}),"Requires verification"]})]})}),(0,a.jsx)(r.Zb,{hover:!0,className:"cursor-pointer transition-all ".concat("personal"===Y?"ring-2 ring-primary-500 border-primary-500":""," ").concat(F?"":"opacity-50 pointer-events-none"),onClick:()=>{F&&(z("personal"),ey("lenderType","personal"),ey("interestRate",0),$(null))},children:(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-accent-100 rounded-2xl flex items-center justify-center",children:(0,a.jsx)(g.Z,{className:"w-8 h-8 text-accent-600"})}),(0,a.jsx)("h3",{className:"font-semibold text-lg text-neutral-900 mb-2",children:"Friend or Family"}),(0,a.jsx)("p",{className:"text-sm text-neutral-500",children:"Send an invite to someone you know"})]})})]}),F&&"verified"!==I&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-yellow-800",children:"Verification Required for Business Loans"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"submitted"===I?"Your verification is being reviewed. You can still borrow from friends and family.":"Complete your verification to borrow from registered businesses. You can still borrow from friends and family without verification."}),"submitted"!==I&&E&&(0,a.jsxs)(r.zx,{type:"button",size:"sm",className:"mt-3",onClick:E,children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Start Verification"]})]})]})}),(0,a.jsx)("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(r.zx,{type:"button",onClick:()=>eE(2),disabled:!Y||!F,children:["Continue",(0,a.jsx)(N.Z,{className:"w-4 h-4 ml-1"})]})})]}),2===L&&(0,a.jsxs)("div",{className:"space-y-4 animate-fade-in",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{U(1),$(null)},className:"flex items-center gap-1 text-sm text-neutral-500 hover:text-neutral-700",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4"}),"Back"]}),"business"===Y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Auto-Match Enabled"}),(0,a.jsx)("p",{className:"text-neutral-500",children:"We'll find the best lender for you automatically"})]}),(0,a.jsx)(r.Zb,{className:"bg-gradient-to-br from-primary-50 to-yellow-50 border-primary-200",children:(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-primary-100 to-yellow-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(f.Z,{className:"w-8 h-8 text-primary-600"})}),(0,a.jsx)("h3",{className:"font-semibold text-lg text-neutral-900 mb-2",children:"How It Works"}),(0,a.jsxs)("div",{className:"text-left max-w-md mx-auto space-y-3 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary-200 flex items-center justify-center flex-shrink-0 text-sm font-bold text-primary-800",children:"1"}),(0,a.jsx)("p",{className:"text-sm text-neutral-600",children:"You submit your loan request with your terms"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary-200 flex items-center justify-center flex-shrink-0 text-sm font-bold text-primary-800",children:"2"}),(0,a.jsx)("p",{className:"text-sm text-neutral-600",children:"Our system finds business lenders matching your needs"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary-200 flex items-center justify-center flex-shrink-0 text-sm font-bold text-primary-800",children:"3"}),(0,a.jsx)("p",{className:"text-sm text-neutral-600",children:"Best match funds your loan instantly or within 24h"})]})]})]})}),(0,a.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 text-green-600 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-green-800",children:"No browsing required"}),(0,a.jsx)("p",{className:"text-sm text-green-700",children:"Continue to set your loan details and we'll handle the rest"})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Invite Your Lender"}),(0,a.jsx)("p",{className:"text-neutral-500",children:"Enter their contact information to send an invite"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(r.II,{label:"Email Address",type:"email",placeholder:"friend@example.com",...ep("inviteEmail"),onChange:e=>{ey("inviteEmail",e.target.value),$(null)}}),(0,a.jsx)("div",{className:"text-center text-sm text-neutral-400",children:"or"}),(0,a.jsx)(r.II,{label:"Phone Number",type:"tel",placeholder:"+1 234 567 8900",...ep("invitePhone"),onChange:e=>{ey("invitePhone",e.target.value),$(null)}}),(0,a.jsx)("div",{className:"pt-4 border-t border-neutral-200",children:(0,a.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(b.Z,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-blue-900",children:"Interest rate set by lender"}),(0,a.jsx)("p",{className:"text-blue-700",children:"Your friend or family member will set the interest rate (if any) when they accept your request."})]})]})})})]})]}),(0,a.jsx)("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(r.zx,{type:"button",onClick:()=>eE(3),disabled:!("business"===Y||eZ||eP),children:["Continue",(0,a.jsx)(N.Z,{className:"w-4 h-4 ml-1"})]})})]}),3===L&&(0,a.jsxs)("div",{className:"space-y-4 animate-fade-in",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{U(2),$(null)},className:"flex items-center gap-1 text-sm text-neutral-500 hover:text-neutral-700",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4"}),"Back"]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Loan Details"}),(0,a.jsx)("p",{className:"text-neutral-500",children:"Specify the amount and repayment terms"})]}),"business"===Y&&J&&J.default_interest_rate>0&&(0,a.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl flex items-start gap-3",children:[(0,a.jsx)(b.Z,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("p",{className:"font-medium text-blue-900",children:[J.business_name," charges ",(0,i.rl)(J.default_interest_rate)," APR"]}),(0,a.jsxs)("p",{className:"text-blue-700",children:["Interest type: ","compound"===J.interest_type?"Compound":"Simple"]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.II,{label:"Principal Amount *",type:"number",placeholder:"1000",min:"1",max:"personal"===Y&&(null==ea?void 0:ea.borrowingTier)!==6&&(null==ea?void 0:ea.availableAmount)||void 0,...ep("amount",{valueAsNumber:!0})}),"personal"===Y&&ea&&ea.borrowingTier&&ea.borrowingTier<6&&(0,a.jsx)("p",{className:"text-xs mt-1 ".concat(eT?"text-red-600 font-medium":"text-neutral-500 dark:text-neutral-400"),children:eT?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"w-3 h-3 inline mr-1"}),"Exceeds your limit! Max: ",(0,i.xG)(ea.availableAmount||0)]}):(0,a.jsxs)(a.Fragment,{children:["Available: ",(0,i.xG)(ea.availableAmount||0)]})}),"business"===Y&&en&&(0,a.jsxs)("p",{className:"text-xs mt-1 text-teal-600 dark:text-teal-400",children:[(0,a.jsx)(b.Z,{className:"w-3 h-3 inline mr-1"}),en.isFirstTimeBorrower?"First-time borrower — you'll be matched with lenders accepting up to ".concat((0,i.xG)(en.maxAvailableFromBusinesses||0)):"Max available from lenders: ".concat((0,i.xG)(en.maxAvailableFromBusinesses||0))]})]}),(0,a.jsx)(r.Ph,{label:"Currency *",options:[{value:"USD",label:"USD ($)"},{value:"EUR",label:"EUR (€)"},{value:"GBP",label:"GBP (\xa3)"},{value:"NGN",label:"NGN (₦)"},{value:"GHS",label:"GHS (₵)"},{value:"KES",label:"KES (KSh)"}],...ep("currency")})]}),(0,a.jsx)(r.II,{label:"Purpose (optional)",placeholder:"e.g., Business supplies, emergency, etc.",...ep("purpose")}),eg>0&&eF.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Repayment Schedule *"}),(0,a.jsx)("button",{type:"button",onClick:()=>ex(!ed),className:"text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:ed?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.Z,{className:"w-4 h-4"}),"Custom schedule"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Z,{className:"w-4 h-4"}),"Use presets"]})})]}),ed?(0,a.jsx)("div",{className:"grid gap-3",children:eF.map((e,t)=>(0,a.jsx)("button",{type:"button",onClick:()=>eh(t),className:"w-full p-4 rounded-xl border-2 text-left transition-all ".concat(eu===t?"border-primary-500 bg-primary-50":"border-neutral-200 hover:border-neutral-300"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(eu===t?"bg-primary-100":"bg-neutral-100"),children:(0,a.jsx)(k.Z,{className:"w-5 h-5 ".concat(eu===t?"text-primary-600":"text-neutral-500")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-neutral-900",children:e.label}),(0,a.jsxs)("p",{className:"text-sm text-neutral-500",children:["weekly"===e.frequency?"Weekly":"biweekly"===e.frequency?"Bi-weekly":"Monthly"," payments"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-bold text-neutral-900",children:(0,i.xG)(e.paymentAmount)}),(0,a.jsx)("p",{className:"text-xs text-neutral-500",children:"per payment"})]})]})},t))}):(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsx)(r.Ph,{label:"Repayment Frequency",options:eU,...ep("repaymentFrequency")}),(0,a.jsx)(r.II,{label:"Number of Installments",type:"number",placeholder:"10",min:"1",...ep("totalInstallments",{valueAsNumber:!0})})]}),eI&&ed&&(0,a.jsxs)("div",{className:"p-3 bg-primary-50 rounded-lg flex items-center gap-2 text-primary-700 text-sm",children:[(0,a.jsx)(Z.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["You'll pay ",(0,i.xG)(eI.paymentAmount)," ",eI.frequency," for ",eI.installments," ",1===eI.installments?"payment":"payments"]})]})]}),(!eg||eg<=0)&&(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsx)(r.Ph,{label:"Repayment Frequency *",options:eU,...ep("repaymentFrequency")}),(0,a.jsx)(r.II,{label:"Number of Installments *",type:"number",placeholder:"10",min:"1",...ep("totalInstallments",{valueAsNumber:!0})})]}),(0,a.jsx)(r.II,{label:"Start Date *",type:"date",...ep("startDate")}),eg>0&&eN>0&&(0,a.jsxs)("div",{className:"p-4 bg-neutral-50 rounded-xl space-y-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-neutral-900",children:"Loan Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsx)("span",{className:"text-neutral-500",children:"Principal:"}),(0,a.jsx)("span",{className:"text-right font-medium",children:(0,i.xG)(eg)}),ew>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-neutral-500",children:"Interest Rate:"}),(0,a.jsxs)("span",{className:"text-right font-medium",children:[(0,i.rl)(ew)," APR"]}),(0,a.jsx)("span",{className:"text-neutral-500",children:"Total Interest:"}),(0,a.jsx)("span",{className:"text-right font-medium text-orange-600",children:(0,i.xG)(eS)})]}),(0,a.jsx)("span",{className:"text-neutral-500 font-medium",children:"Total to Repay:"}),(0,a.jsx)("span",{className:"text-right font-bold text-primary-600",children:(0,i.xG)(e_)}),(0,a.jsx)("span",{className:"text-neutral-500",children:"Per Installment:"}),(0,a.jsx)("span",{className:"text-right font-medium",children:(0,i.xG)(eq)})]})]}),(0,a.jsx)("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(r.zx,{type:"button",onClick:()=>eE(4),disabled:!(eg>0&&eN>0&&eA),children:["Continue",(0,a.jsx)(N.Z,{className:"w-4 h-4 ml-1"})]})})]}),4===L&&(0,a.jsxs)("div",{className:"space-y-4 animate-fade-in",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{U(3),$(null)},className:"flex items-center gap-1 text-sm text-neutral-500 hover:text-neutral-700",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4"}),"Back"]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"How to Receive Money"}),(0,a.jsx)("p",{className:"text-neutral-500",children:"Choose how you or your recipient will receive the funds"})]}),(0,a.jsx)(c.DisbursementMethodForm,{value:ec,onChange:eo,showRecipientOption:!0,preferredMethod:R,paypalEmail:T,cashappUsername:B,venmoUsername:G}),(0,a.jsx)("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(r.zx,{type:"button",onClick:()=>eE(5),children:["Continue",(0,a.jsx)(N.Z,{className:"w-4 h-4 ml-1"})]})})]}),5===L&&(0,a.jsxs)("div",{className:"space-y-4 animate-fade-in",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{U(4),$(null),W(null)},className:"flex items-center gap-1 text-sm text-neutral-500 hover:text-neutral-700",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4"}),"Back"]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Review & Sign Agreement"}),(0,a.jsx)("p",{className:"text-neutral-500",children:"Please review the loan terms and sign the agreement"})]}),(0,a.jsxs)(r.Zb,{className:"bg-primary-50 border-primary-200",children:[(0,a.jsx)("h4",{className:"font-semibold text-primary-900 mb-3",children:"Loan Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsx)("span",{className:"text-primary-700",children:"Principal:"}),(0,a.jsx)("span",{className:"text-right font-medium text-primary-900",children:(0,i.xG)(eg)}),(0,a.jsx)("span",{className:"text-primary-700",children:"Total to Repay:"}),(0,a.jsx)("span",{className:"text-right font-bold text-primary-900",children:(0,i.xG)(e_)}),(0,a.jsx)("span",{className:"text-primary-700",children:"Installments:"}),(0,a.jsxs)("span",{className:"text-right font-medium text-primary-900",children:[eN," \xd7 ",(0,i.xG)(eq)]}),(0,a.jsx)("span",{className:"text-primary-700",children:"Start Date:"}),(0,a.jsx)("span",{className:"text-right font-medium text-primary-900",children:eA?new Date(eA).toLocaleDateString():"-"})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-neutral-900 flex items-center gap-2",children:[(0,a.jsx)(P.Z,{className:"w-4 h-4"}),"Loan Agreement Terms"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>es(!et),className:"text-sm text-primary-600 hover:text-primary-700",children:[et?"Hide":"Show"," full terms"]})]}),et&&(0,a.jsxs)("div",{className:"text-sm text-neutral-600 space-y-3 max-h-64 overflow-y-auto mb-4 p-4 bg-neutral-50 rounded-lg",children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"1. Loan Agreement"})}),(0,a.jsxs)("p",{children:["I agree to borrow ",(0,i.xG)(eg)," and repay a total of ",(0,i.xG)(e_),"according to the payment schedule."]}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"2. Repayment Terms"})}),(0,a.jsxs)("p",{children:["I will make ",eN," payments of ",(0,i.xG)(eq)," each."]}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"3. Late Payments"})}),(0,a.jsx)("p",{children:"I understand that late payments may affect my relationship with the lender and I will communicate any payment difficulties promptly."}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"4. Digital Signatures"})}),(0,a.jsx)("p",{children:"I acknowledge that my digital signature on this platform is legally binding."})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-xl mb-4",children:[(0,a.jsx)(A.Z,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,a.jsx)("div",{className:"text-sm text-yellow-800",children:"By signing, you agree to repay this loan according to the terms above. This is a legally binding agreement."})]}),(0,a.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:X,onChange:e=>{ee(e.target.checked),$(null)},className:"mt-1 w-4 h-4 text-primary-600 rounded border-neutral-300 focus:ring-primary-500"}),(0,a.jsx)("span",{className:"text-sm text-neutral-700",children:"I have read, understood, and agree to the loan agreement terms. I commit to repaying this loan as agreed."})]})]}),(0,a.jsx)("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(r.zx,{type:"submit",loading:V,disabled:!X,children:[(0,a.jsx)(P.Z,{className:"w-4 h-4 mr-2"}),"Sign & Submit Request"]})})]})]})}},9319:function(e,t,s){s.d(t,{U:function(){return a}});function a(e){if(!e||e<=0)return[];let t=[];return e<=100?(t.push({frequency:"weekly",installments:1,label:"Pay in full (1 week)"}),t.push({frequency:"weekly",installments:2,label:"2 weekly payments"}),e>=50&&t.push({frequency:"weekly",installments:4,label:"4 weekly payments"})):e<=500?(t.push({frequency:"weekly",installments:2,label:"2 weekly payments"}),t.push({frequency:"weekly",installments:4,label:"4 weekly payments"}),t.push({frequency:"monthly",installments:2,label:"2 monthly payments"}),e>=200&&t.push({frequency:"monthly",installments:3,label:"3 monthly payments"})):e<=2e3?(t.push({frequency:"monthly",installments:2,label:"2 monthly payments"}),t.push({frequency:"monthly",installments:3,label:"3 monthly payments"}),t.push({frequency:"monthly",installments:4,label:"4 monthly payments"}),t.push({frequency:"monthly",installments:6,label:"6 monthly payments"})):e<=1e4?(t.push({frequency:"monthly",installments:3,label:"3 monthly payments"}),t.push({frequency:"monthly",installments:6,label:"6 monthly payments"}),t.push({frequency:"monthly",installments:9,label:"9 monthly payments"}),t.push({frequency:"monthly",installments:12,label:"12 monthly payments"})):(t.push({frequency:"monthly",installments:6,label:"6 monthly payments"}),t.push({frequency:"monthly",installments:12,label:"12 monthly payments"}),t.push({frequency:"monthly",installments:18,label:"18 monthly payments"}),t.push({frequency:"monthly",installments:24,label:"24 monthly payments"})),t.map(t=>({...t,paymentAmount:Math.ceil(e/t.installments)}))}}}]);