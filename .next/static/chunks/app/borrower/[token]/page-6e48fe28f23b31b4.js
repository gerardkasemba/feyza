(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4836],{6395:function(e,t,a){Promise.resolve().then(a.bind(a,661))},2252:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3639:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},44:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},1047:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},5302:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},875:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},407:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},1723:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8226:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},5252:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2735:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},9637:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},3245:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},5863:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4743:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},8906:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},2369:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2489:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},661:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var r=a(7437),n=a(2265),s=a(9376),l=a(7648),d=a(2573),i=a(3448),c=a(7841),o=a(2252),m=a(5252),u=a(44),x=a(2369),h=a(8226),p=a(5302),b=a(4743),y=a(1047),g=a(2735),k=a(1723),f=a(8906);function j(){var e,t,a;let j=(0,s.useParams)();(0,s.useRouter)();let N=j.token,[v,w]=(0,n.useState)(null),[_,Z]=(0,n.useState)(!0),[C,P]=(0,n.useState)(null),[D,S]=(0,n.useState)(""),[A,M]=(0,n.useState)(""),[z,E]=(0,n.useState)(!1),[R,T]=(0,n.useState)(null),[I,L]=(0,n.useState)(""),[O,G]=(0,n.useState)(!1);(0,n.useEffect)(()=>{N&&V()},[N]);let V=async()=>{try{let e=await fetch("/api/guest-borrower/".concat(N)),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to load loan");w(t.loan),S(t.loan.borrower_payment_method||""),M(t.loan.borrower_payment_username||"")}catch(e){P(e.message)}finally{Z(!1)}},Y=async()=>{if(D&&A){E(!0);try{if(!(await fetch("/api/guest-borrower/".concat(N),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"set_payment_method",payment_method:D,payment_username:A})})).ok)throw Error("Failed to save payment method");await V(),alert("Payment method saved successfully!")}catch(e){alert(e.message)}finally{E(!1)}}},H=async e=>{G(!0);try{let t=await fetch("/api/guest-borrower/".concat(N),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"record_payment",schedule_id:e,note:I})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to record payment")}await V(),T(null),L(""),alert("Payment recorded! Your lender will be notified.")}catch(e){alert(e.message)}finally{G(!1)}};if(_)return(0,r.jsx)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-neutral-600 dark:text-neutral-300",children:"Loading your loan..."})]})});if(C||!v)return(0,r.jsx)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center p-4",children:(0,r.jsxs)(d.Zb,{className:"max-w-md w-full text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(o.Z,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),(0,r.jsx)("h1",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Access Expired or Invalid"}),(0,r.jsx)("p",{className:"text-neutral-600 dark:text-neutral-300 mb-6",children:C||"This link may have expired or is invalid."}),(0,r.jsx)(l.default,{href:"/borrower/access",children:(0,r.jsx)(d.zx,{children:"Request New Access Link"})})]})});let U=(null===(e=v.lender)||void 0===e?void 0:e.full_name)||(null===(t=v.business_lender)||void 0===t?void 0:t.business_name)||"Your Lender",q=v.total_amount>0?(v.amount_paid||0)/v.total_amount*100:0,B=null===(a=v.schedule)||void 0===a?void 0:a.find(e=>!e.is_paid),F=v.lender||v.business_lender,$=(null==F?void 0:F.paypal_email)||v.lender_paypal_email,W=(null==F?void 0:F.cashapp_username)||v.lender_cashapp_username,J=(null==F?void 0:F.venmo_username)||v.lender_venmo_username,X=$||W||J;return(0,r.jsxs)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900",children:[(0,r.jsx)("header",{className:"bg-white dark:bg-neutral-800 border-b border-neutral-200 dark:border-neutral-700 sticky top-0 z-10",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-primary-500 rounded-xl flex items-center justify-center",children:(0,r.jsx)(m.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"font-bold text-neutral-900 dark:text-white",children:"Feyza"}),(0,r.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Guest Borrower"})]})]}),(0,r.jsx)(d.Ct,{variant:"active"===v.status?"success":"warning",children:v.status})]})}),(0,r.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,r.jsx)(d.Oo,{items:[{label:"My Loans",href:"/borrower/access"},{label:"Loan from ".concat(U)}]}),(0,r.jsxs)(d.Zb,{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,r.jsx)("div",{className:"w-14 h-14 bg-primary-100 dark:bg-primary-900/30 rounded-xl flex items-center justify-center",children:v.business_lender?(0,r.jsx)(u.Z,{className:"w-7 h-7 text-primary-600 dark:text-primary-400"}):(0,r.jsx)(x.Z,{className:"w-7 h-7 text-primary-600 dark:text-primary-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Loan from"}),(0,r.jsx)("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:U})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 rounded-xl",children:[(0,r.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-1",children:"Principal"}),(0,r.jsx)("p",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:(0,i.xG)(v.amount,v.currency)})]}),(0,r.jsxs)("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/30 rounded-xl",children:[(0,r.jsxs)("p",{className:"text-sm text-orange-600 dark:text-orange-400 mb-1",children:["Interest (",v.interest_rate,"%)"]}),(0,r.jsx)("p",{className:"text-xl font-bold text-orange-700 dark:text-orange-300",children:(0,i.xG)(v.total_interest||0,v.currency)})]}),(0,r.jsxs)("div",{className:"p-4 bg-primary-50 dark:bg-primary-900/30 rounded-xl",children:[(0,r.jsx)("p",{className:"text-sm text-primary-600 dark:text-primary-400 mb-1",children:"Total to Repay"}),(0,r.jsx)("p",{className:"text-xl font-bold text-primary-700 dark:text-primary-300",children:(0,i.xG)(v.total_amount||v.amount,v.currency)})]}),(0,r.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-xl",children:[(0,r.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1",children:"Each Payment"}),(0,r.jsx)("p",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:(0,i.xG)(v.repayment_amount||v.total_amount/v.total_installments,v.currency)})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 p-4 bg-neutral-50 dark:bg-neutral-800 rounded-xl mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Interest Type"}),(0,r.jsx)("p",{className:"font-medium text-neutral-900 dark:text-white capitalize",children:v.interest_type||"Simple"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Frequency"}),(0,r.jsx)("p",{className:"font-medium text-neutral-900 dark:text-white capitalize",children:v.repayment_frequency})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Total Payments"}),(0,r.jsx)("p",{className:"font-medium text-neutral-900 dark:text-white",children:v.total_installments})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 rounded-xl",children:[(0,r.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400 mb-1",children:"Paid"}),(0,r.jsx)("p",{className:"text-xl font-bold text-green-700 dark:text-green-300",children:(0,i.xG)(v.amount_paid||0,v.currency)})]}),(0,r.jsxs)("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/30 rounded-xl",children:[(0,r.jsx)("p",{className:"text-sm text-amber-600 dark:text-amber-400 mb-1",children:"Remaining"}),(0,r.jsx)("p",{className:"text-xl font-bold text-amber-700 dark:text-amber-300",children:(0,i.xG)(v.amount_remaining||v.total_amount||v.amount,v.currency)})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,r.jsx)("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Repayment Progress"}),(0,r.jsxs)("span",{className:"font-medium text-neutral-900 dark:text-white",children:[Math.round(q),"%"]})]}),(0,r.jsx)(d.Ex,{value:q,className:"h-3"})]}),B&&"active"===v.status&&(0,r.jsxs)("div",{className:"p-4 rounded-xl flex items-center gap-3 ".concat(new Date(B.due_date)<new Date?"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800":"bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800"),children:[(0,r.jsx)(o.Z,{className:"w-5 h-5 ".concat(new Date(B.due_date)<new Date?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400")}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium ".concat(new Date(B.due_date)<new Date?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300"),children:new Date(B.due_date)<new Date?"Payment Overdue!":"Next Payment Due"}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[(0,i.xG)(B.amount,v.currency)," due ",(0,i.p6)(B.due_date)]})]})]})]}),!v.borrower_payment_method&&(0,r.jsxs)(d.Zb,{className:"mb-6 bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-800/50 rounded-lg",children:(0,r.jsx)(h.Z,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"Set Up How to Receive Your Loan"}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Tell your lender how you'd like to receive the loan funds"})]})]}),(0,r.jsx)("div",{className:"space-y-3 mb-4",children:["paypal","cashapp","venmo"].map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-white dark:bg-neutral-800 rounded-xl cursor-pointer border-2 transition-all ".concat(D===e?"border-primary-500 dark:border-primary-400":"border-transparent"),children:[(0,r.jsx)("input",{type:"radio",name:"payment_method",value:e,checked:D===e,onChange:e=>S(e.target.value),className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),(0,r.jsx)("span",{className:"font-medium capitalize text-neutral-900 dark:text-white",children:"cashapp"===e?"Cash App":e})]},e))}),D&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:["Your ","paypal"===D?"PayPal Email":"".concat("cashapp"===D?"Cash App":"Venmo"," Username")]}),(0,r.jsx)("input",{type:"paypal"===D?"email":"text",value:A,onChange:e=>M(e.target.value),placeholder:"paypal"===D?"you@example.com":"$username",className:"w-full px-4 py-3 border border-neutral-200 dark:border-neutral-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white"})]}),(0,r.jsx)(d.zx,{onClick:Y,disabled:!D||!A||z,className:"w-full",children:z?"Saving...":"Save Payment Method"})]}),v.borrower_payment_method&&(0,r.jsxs)(d.Zb,{className:"mb-6 bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-800/50 rounded-lg",children:(0,r.jsx)(p.Z,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"Your Receive Method"}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[(0,r.jsx)("span",{className:"capitalize",children:"cashapp"===v.borrower_payment_method?"Cash App":v.borrower_payment_method}),": ",v.borrower_payment_username]})]})]}),(0,r.jsx)(d.zx,{variant:"outline",size:"sm",onClick:()=>{S(v.borrower_payment_method),M(v.borrower_payment_username||"")},children:"Change"})]}),D&&D!==v.borrower_payment_method&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-green-200 dark:border-green-800",children:[(0,r.jsx)("div",{className:"space-y-3 mb-4",children:["paypal","cashapp","venmo"].map(e=>(0,r.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-white dark:bg-neutral-800 rounded-lg cursor-pointer border-2 transition-all ".concat(D===e?"border-primary-500 dark:border-primary-400":"border-transparent"),children:[(0,r.jsx)("input",{type:"radio",name:"payment_method",value:e,checked:D===e,onChange:e=>S(e.target.value),className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),(0,r.jsx)("span",{className:"font-medium capitalize text-neutral-900 dark:text-white",children:"cashapp"===e?"Cash App":e})]},e))}),(0,r.jsx)("input",{type:"paypal"===D?"email":"text",value:A,onChange:e=>M(e.target.value),placeholder:"paypal"===D?"you@example.com":"$username",className:"w-full px-4 py-3 border border-neutral-200 dark:border-neutral-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white mb-3"}),(0,r.jsx)(d.zx,{onClick:Y,disabled:!D||!A||z,className:"w-full",size:"sm",children:z?"Saving...":"Update Payment Method"})]})]}),"active"===v.status&&X&&(0,r.jsxs)(d.Zb,{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-800/50 rounded-lg",children:(0,r.jsx)(b.Z,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"How to Repay Your Lender"}),(0,r.jsxs)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:["Send payments to ",U," using one of these methods"]})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[$&&(0,r.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-xl flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium mb-1",children:"PayPal"}),(0,r.jsx)("p",{className:"text-neutral-900 dark:text-white font-mono",children:$})]}),(0,r.jsx)("a",{href:"https://paypal.me/".concat($),target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-600 dark:bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-700 dark:hover:bg-blue-600",children:"Open PayPal"})]}),W&&(0,r.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 rounded-xl flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium mb-1",children:"Cash App"}),(0,r.jsxs)("p",{className:"text-neutral-900 dark:text-white font-mono",children:["$",W]})]}),(0,r.jsx)("a",{href:"https://cash.app/$".concat(W),target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-green-600 dark:bg-green-500 text-white rounded-lg text-sm hover:bg-green-700 dark:hover:bg-green-600",children:"Open Cash App"})]}),J&&(0,r.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/30 rounded-xl flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium mb-1",children:"Venmo"}),(0,r.jsxs)("p",{className:"text-neutral-900 dark:text-white font-mono",children:["@",J]})]}),(0,r.jsx)("a",{href:"https://venmo.com/".concat(J),target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-purple-600 dark:bg-purple-500 text-white rounded-lg text-sm hover:bg-purple-700 dark:hover:bg-purple-600",children:"Open Venmo"})]})]}),(0,r.jsx)("div",{className:"mt-4 p-3 bg-amber-50 dark:bg-amber-900/30 rounded-lg border border-amber-200 dark:border-amber-800",children:(0,r.jsxs)("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:["\uD83D\uDCA1 ",(0,r.jsx)("strong",{children:"Tip:"}),' After sending a payment, click "I Made This Payment" below to notify your lender.']})})]}),"active"===v.status&&!X&&(0,r.jsx)(d.Zb,{className:"mb-6 bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-800",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(o.Z,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"Waiting for Lender Payment Details"}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Your lender hasn't set up their payment method yet. You'll be notified when they do."})]})]})}),(0,r.jsxs)(d.Zb,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("h3",{className:"font-semibold text-neutral-900 dark:text-white flex items-center gap-2",children:[(0,r.jsx)(y.Z,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),"Payment Schedule"]}),v.schedule&&v.schedule.length>0&&(0,r.jsxs)(d.zx,{variant:"outline",size:"sm",onClick:()=>{let e=v.schedule.filter(e=>!e.is_paid).map(e=>({id:e.id,title:"\uD83D\uDCB0 Feyza Payment Due - ".concat((0,i.xG)(e.amount,v.currency)),amount:e.amount,currency:v.currency,dueDate:e.due_date,lenderName:U,description:"Loan repayment for ".concat(v.purpose||"personal loan")}));(0,c.M3)(e,v.purpose)},children:[(0,r.jsx)(g.Z,{className:"w-4 h-4 mr-1"}),"Add to Calendar"]})]}),v.schedule&&0!==v.schedule.length?(0,r.jsx)("div",{className:"space-y-3",children:v.schedule.map((e,t)=>{let a=new Date(e.due_date)<new Date&&!e.is_paid;return(0,r.jsxs)("div",{id:"payment-".concat(e.id),className:"p-4 rounded-xl border ".concat(e.is_paid?"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800":a?"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800":"bg-neutral-50 dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(e.is_paid?"bg-green-100 dark:bg-green-800":a?"bg-red-100 dark:bg-red-800":"bg-neutral-200 dark:bg-neutral-700"),children:e.is_paid?(0,r.jsx)(p.Z,{className:"w-4 h-4 text-green-600 dark:text-green-400"}):(0,r.jsx)("span",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-300",children:t+1})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-neutral-900 dark:text-white",children:(0,i.xG)(e.amount,v.currency)}),(0,r.jsxs)("p",{className:"text-sm ".concat(a?"text-red-600 dark:text-red-400 font-medium":"text-neutral-500 dark:text-neutral-400"),children:[a?"⚠️ Overdue • ":"",(0,i.p6)(e.due_date)]})]})]}),e.is_paid?(0,r.jsx)("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300 text-sm rounded-full",children:"✓ Paid"}):"active"===v.status&&X?(0,r.jsx)(d.zx,{size:"sm",variant:R===e.id?"primary":"outline",onClick:()=>T(R===e.id?null:e.id),children:"I Made This Payment"}):(0,r.jsx)("span",{className:"px-3 py-1 bg-neutral-100 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300 text-sm rounded-full",children:"Pending"})]}),R===e.id&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mb-3",children:"Confirm that you've sent this payment to your lender:"}),(0,r.jsx)("textarea",{value:I,onChange:e=>L(e.target.value),placeholder:"Add a note (optional) - e.g., PayPal confirmation #...",className:"w-full px-3 py-2 border border-neutral-200 dark:border-neutral-700 rounded-lg text-sm mb-3 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",rows:2}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(d.zx,{size:"sm",variant:"outline",onClick:()=>{T(null),L("")},children:"Cancel"}),(0,r.jsx)(d.zx,{size:"sm",onClick:()=>H(e.id),disabled:O,children:O?"Recording...":"Confirm Payment"})]})]})]},e.id)})}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(k.Z,{className:"w-8 h-8 text-amber-600 dark:text-amber-400"})}),(0,r.jsx)("p",{className:"font-medium text-neutral-900 dark:text-white mb-2",children:"pending"===v.status?"⏳ Waiting for Lender":"\uD83D\uDCCB Schedule Coming Soon"}),(0,r.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 max-w-sm mx-auto",children:"pending"===v.status?"Your lender is reviewing your request and setting up the loan terms. You'll see your payment schedule here once they're done.":"Your payment schedule will appear here once the loan is fully activated. Check back soon!"}),"pending"===v.status&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg inline-block",children:(0,r.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"\uD83D\uDCA1 Tip: You'll receive an email when your lender finalizes the terms"})})]})]}),(0,r.jsxs)("div",{className:"mt-8 text-center text-sm text-neutral-500 dark:text-neutral-400",children:[(0,r.jsxs)("p",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(f.Z,{className:"w-4 h-4"}),"Your data is secure and private"]}),(0,r.jsxs)("p",{className:"mt-2",children:[(0,r.jsx)(l.default,{href:"/borrower/access",className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"Access another loan"})," • ",(0,r.jsx)(l.default,{href:"/",className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"Learn more about Feyza"})]})]}),(0,r.jsx)("div",{className:"h-24"})]}),"active"===v.status&&X&&v.schedule&&(()=>{let e=v.schedule.find(e=>!e.is_paid);if(!e)return null;let t=new Date(e.due_date)<new Date;return(0,r.jsx)("div",{className:"fixed bottom-0 left-0 right-0 ".concat(t?"bg-red-600 dark:bg-red-700":"bg-primary-600 dark:bg-primary-700"," text-white py-4 px-4 shadow-lg z-50"),children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto flex items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 ".concat(t?"bg-red-500 dark:bg-red-600":"bg-primary-500 dark:bg-primary-600"," rounded-full flex items-center justify-center"),children:t?(0,r.jsx)(o.Z,{className:"w-5 h-5"}):(0,r.jsx)(m.Z,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-sm",children:t?"⚠️ Payment Overdue":"Next Payment Due"}),(0,r.jsxs)("p",{className:"text-white/80 dark:text-white/90 text-sm",children:[(0,i.xG)(e.amount,v.currency)," • ",(0,i.p6)(e.due_date)]})]})]}),(0,r.jsx)(d.zx,{className:"bg-white text-primary-600 dark:bg-white/90 dark:text-primary-700 hover:bg-white/90 font-medium whitespace-nowrap",onClick:()=>{var t;T(e.id),null===(t=document.getElementById("payment-".concat(e.id)))||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center"})},children:"Record Payment"})]})})})()]})}},7841:function(e,t,a){"use strict";function r(e,t){let a=new Blob([function(e,t){let a=new Date,r=e=>e.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",n=e=>e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"),s=(e,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD"}).format(e),l=e.map(e=>{let t=new Date(e.dueDate);t.setHours(9,0,0,0);let l=new Date(t);l.setHours(10,0,0,0);let d=["Payment Amount: ".concat(s(e.amount,e.currency)),e.lenderName?"Pay to: ".concat(e.lenderName):"",e.description||"","","Powered by Feyza - feyza.app"].filter(Boolean).join("\\n");return"BEGIN:VEVENT\nUID:".concat(e.id,"@feyza.app\nDTSTAMP:").concat(r(a),"\nDTSTART:").concat(r(t),"\nDTEND:").concat(r(l),"\nSUMMARY:").concat(n(e.title),"\nDESCRIPTION:").concat(n(d),"\nSTATUS:CONFIRMED\nBEGIN:VALARM\nTRIGGER:-P1D\nACTION:DISPLAY\nDESCRIPTION:Payment due tomorrow: ").concat(s(e.amount,e.currency),"\nEND:VALARM\nBEGIN:VALARM\nTRIGGER:-PT2H\nACTION:DISPLAY\nDESCRIPTION:Payment due today: ").concat(s(e.amount,e.currency),"\nEND:VALARM\nEND:VEVENT")});return"BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Feyza//Payment Schedule//EN\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\nX-WR-CALNAME:Feyza Payment Schedule".concat(t?" - ".concat(t):"","\n").concat(l.join("\n"),"\nEND:VCALENDAR")}(e,t)],{type:"text/calendar;charset=utf-8"}),r=URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download="feyza-payment-schedule".concat(t?"-".concat(t.toLowerCase().replace(/\s+/g,"-")):"",".ics"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}a.d(t,{M3:function(){return r}})}},function(e){e.O(0,[1114,7648,2573,2971,2117,1744],function(){return e(e.s=6395)}),_N_E=e.O()}]);