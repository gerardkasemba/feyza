(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{6375:function(e,t,n){Promise.resolve().then(n.t.bind(n,5878,23)),Promise.resolve().then(n.t.bind(n,2972,23)),Promise.resolve().then(n.bind(n,3337)),Promise.resolve().then(n.bind(n,5167)),Promise.resolve().then(n.bind(n,5053)),Promise.resolve().then(n.bind(n,7246)),Promise.resolve().then(n.bind(n,2151)),Promise.resolve().then(n.bind(n,6768)),Promise.resolve().then(n.bind(n,3956)),Promise.resolve().then(n.bind(n,6347)),Promise.resolve().then(n.bind(n,6289)),Promise.resolve().then(n.bind(n,4160)),Promise.resolve().then(n.bind(n,8605)),Promise.resolve().then(n.bind(n,8702)),Promise.resolve().then(n.bind(n,1385)),Promise.resolve().then(n.bind(n,9356))},3337:function(e,t,n){"use strict";n.r(t),n.d(t,{DashboardBorrowingLimit:function(){return x}});var r=n(7437),s=n(2265),i=n(7648),a=n(2573),l=n(3448),o=n(6595),c=n(6337),d=n(525),m=n(407);function x(){let[e,t]=(0,s.useState)(null),[n,x]=(0,s.useState)(!0);if((0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/borrower/eligibility");if(e.ok){let n=await e.json();t(n)}}catch(e){console.error("Failed to fetch eligibility:",e)}finally{x(!1)}})()},[]),n)return(0,r.jsx)(a.Zb,{className:"animate-pulse",children:(0,r.jsx)("div",{className:"h-20 bg-neutral-100 rounded"})});if(!e)return null;let u=(e=>{let t={1:{bg:"bg-gray-100",text:"text-gray-600"},2:{bg:"bg-amber-100",text:"text-amber-700"},3:{bg:"bg-slate-200",text:"text-slate-700"},4:{bg:"bg-yellow-100",text:"text-yellow-700"},5:{bg:"bg-purple-100",text:"text-purple-700"},6:{bg:"bg-blue-100",text:"text-blue-700"}};return t[e]||t[1]})(e.borrowingTier),h=e.loansNeededToUpgrade>0?(3-e.loansNeededToUpgrade)/3*100:100;return(0,r.jsxs)(a.Zb,{className:"bg-gradient-to-br from-primary-50 to-white border-primary-100",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center ".concat(u.bg),children:(0,r.jsx)(o.Z,{className:"w-5 h-5 ".concat(u.text)})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-neutral-500",children:"Your Borrowing Tier"}),(0,r.jsx)("p",{className:"font-semibold text-neutral-900",children:e.tierName})]})]}),!e.canBorrow&&(0,r.jsxs)("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium flex items-center gap-1",children:[(0,r.jsx)(c.Z,{className:"w-3 h-3"}),"Limited"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-neutral-100 mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500",children:"Available to Borrow"}),(0,r.jsx)("p",{className:"text-xl font-bold text-primary-600",children:6===e.borrowingTier?"Unlimited":(0,l.xG)(e.availableAmount||0)})]}),e.borrowingTier<6&&(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500",children:"Tier Limit"}),(0,r.jsx)("p",{className:"font-medium text-neutral-700",children:(0,l.xG)(e.maxAmount||0)})]})]}),e.borrowingTier<6&&e.loansNeededToUpgrade>0&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,r.jsxs)("span",{className:"text-neutral-500 flex items-center gap-1",children:[(0,r.jsx)(d.Z,{className:"w-3 h-3 text-green-600"}),"Next tier: ",(0,l.xG)(e.nextTierAmount||0)]}),(0,r.jsxs)("span",{className:"text-neutral-600",children:[3-e.loansNeededToUpgrade,"/3 loans"]})]}),(0,r.jsx)("div",{className:"h-2 bg-neutral-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-green-500 transition-all",style:{width:"".concat(h,"%")}})})]}),(0,r.jsx)(i.default,{href:"/loans/new",children:(0,r.jsxs)(a.zx,{size:"sm",className:"w-full",children:["Request a Loan",(0,r.jsx)(m.Z,{className:"w-4 h-4 ml-1"})]})})]})}},5167:function(e,t,n){"use strict";n.d(t,{RecentActivity:function(){return m}});var r=n(7437);n(2265);var s=n(7648),i=n(2573),a=n(3448),l=n(9763);let o=(0,l.Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),c=(0,l.Z)("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);var d=n(401);function m(e){let{activities:t}=e;return 0===t.length?(0,r.jsx)(i.Zb,{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-neutral-500",children:"No recent activity"})}):(0,r.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,r.jsx)(x,{activity:e},e.id))})}function x(e){let{activity:t}=e,{type:n,loan:l,payment:m,timestamp:x}=t,{icon:u,iconBg:h,iconColor:b,title:g,description:p}={loan_created:{icon:o,iconBg:"bg-blue-100",iconColor:"text-blue-600",title:"Loan requested",description:"You requested ".concat((0,a.xG)(l.amount,l.currency))},payment_made:{icon:c,iconBg:"bg-yellow-100",iconColor:"text-yellow-600",title:"Payment marked",description:m?"".concat((0,a.xG)(m.amount,l.currency)," marked as paid"):"Payment marked as paid"},payment_confirmed:{icon:d.Z,iconBg:"bg-green-100",iconColor:"text-green-600",title:"Payment confirmed",description:m?"".concat((0,a.xG)(m.amount,l.currency)," confirmed"):"Payment confirmed"},loan_accepted:{icon:d.Z,iconBg:"bg-green-100",iconColor:"text-green-600",title:"Loan accepted",description:"".concat((0,a.xG)(l.amount,l.currency)," loan is now active")}}[n];return(0,r.jsx)(s.default,{href:"/loans/".concat(l.id),children:(0,r.jsxs)(i.Zb,{hover:!0,className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-xl ".concat(h),children:(0,r.jsx)(u,{className:"w-5 h-5 ".concat(b)})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"font-medium text-neutral-900",children:g}),(0,r.jsx)("p",{className:"text-sm text-neutral-500 truncate",children:p})]}),(0,r.jsx)("span",{className:"text-xs text-neutral-400 whitespace-nowrap",children:(0,a.zg)(x)})]})})}}},function(e){e.O(0,[1114,7648,4033,30,9501,2573,5053,6347,3080,2971,2117,1744],function(){return e(e.s=6375)}),_N_E=e.O()}]);