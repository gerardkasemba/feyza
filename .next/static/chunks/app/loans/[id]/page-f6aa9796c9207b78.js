(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4809],{3593:function(e,r,t){Promise.resolve().then(t.bind(t,2163))},2660:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5252:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2735:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},4743:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},2163:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return D}});var a=t(7437),n=t(2265),s=t(9376),l=t(7648),d=t(8049),i=t(2573);t(6768);var o=t(6289);t(6347);var c=t(4160);t(3956),t(2151),t(7246);var x=t(8933),m=t(3448),u=t(7841),h=t(1723),p=t(5302),b=t(5131),g=t(525),f=t(5252),v=t(4766),j=t(8736),N=t(2660),k=t(4743),w=t(2252),y=t(1047),_=t(8226),C=t(6362),P=t(2735),S=t(7689);function D(){var e,r,t,D,Z,A,E,z,R,L,T,I,O,F,M,G,B,q,U,V,H,Y,J,$,W;let X=(0,s.useParams)(),Q=(0,s.useRouter)(),[K,ee]=(0,n.useState)(null),[er,et]=(0,n.useState)([]),[ea,en]=(0,n.useState)(null),[es,el]=(0,n.useState)(!0),[ed,ei]=(0,n.useState)("overview"),[eo,ec]=(0,n.useState)(null),[ex,em]=(0,n.useState)(!1),[eu,eh]=(0,n.useState)(!1),[ep,eb]=(0,n.useState)(!1),[eg,ef]=(0,n.useState)(""),[ev,ej]=(0,n.useState)("paypal"),[eN,ek]=(0,n.useState)(null),[ew,ey]=(0,n.useState)(null),[e_,eC]=(0,n.useState)(!1),[eP,eS]=(0,n.useState)(""),[eD,eZ]=(0,n.useState)(!1),eA=X.id;(0,n.useEffect)(()=>{(async()=>{var e,r;let t=(0,x.e)(),{data:{user:a}}=await t.auth.getUser();if(!a){Q.push("/auth/signin");return}let{data:n}=await t.from("users").select("*").eq("id",a.id).single();en(n||{id:a.id,email:a.email,full_name:(null===(e=a.user_metadata)||void 0===e?void 0:e.full_name)||"User",user_type:(null===(r=a.user_metadata)||void 0===r?void 0:r.user_type)||"individual"});let{data:s,error:l}=await t.from("loans").select("\n          *,\n          borrower:users!borrower_id(*),\n          lender:users!lender_id(*),\n          business_lender:business_profiles!business_lender_id(*),\n          guest_lender:guest_lenders!guest_lender_id(*)\n        ").eq("id",eA).single();if(l||!s){Q.push("/dashboard");return}let d=!1;if(s.borrower_id===a.id)d=!0;else if(s.lender_id===a.id)d=!0;else if(s.business_lender_id){let{data:e}=await t.from("business_profiles").select("id").eq("id",s.business_lender_id).eq("user_id",a.id).single();e&&(d=!0)}if(!d){Q.push("/dashboard");return}let i=s.lender||s.business_lender||s.guest_lender;ee({...s,lender:i});let{data:o}=await t.from("payment_schedule").select("*").eq("loan_id",eA).order("due_date",{ascending:!0});et(o||[]),el(!1)})()},[eA,Q]);let eE=async e=>{if(eo&&K)try{let r=await fetch("/api/payments/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({loanId:K.id,scheduleId:eo.id,amount:e.amount,note:e.note,proofUrl:e.proofUrl})});if(!r.ok)throw Error("Failed to create payment");let t=await r.json();ee({...K,amount_paid:t.loan.amount_paid,amount_remaining:t.loan.amount_remaining,status:t.loan.status}),et(er.map(e=>e.id===eo.id?{...e,is_paid:!0,payment_id:t.payment.id}:e)),em(!1),ec(null)}catch(e){console.error("Error creating payment:",e),alert("Failed to record payment. Please try again.")}},ez=async e=>{if(K){eC(!0);try{let r=await fetch("/api/loans/".concat(K.id,"/remind"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({loan_id:K.id,payment_id:e,message:eP})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to send reminder")}alert("Reminder sent successfully!"),eZ(!1),eS("");let t=(0,x.e)(),{data:a}=await t.from("payment_schedule").select("*").eq("loan_id",K.id).order("due_date",{ascending:!0});et(a||[])}catch(e){console.error("Error sending reminder:",e),alert(e.message||"Failed to send reminder. Please try again.")}finally{eC(!1)}}},eR=async()=>{if(K)try{let e=await fetch("/api/loans/".concat(K.id,"/accept"),{method:"POST"});e.redirected&&(window.location.href=e.url)}catch(e){console.error("Error accepting loan:",e)}},eL=async()=>{if(K)try{(await fetch("/api/loans/".concat(K.id,"/decline"),{method:"POST"})).ok&&Q.push("/dashboard")}catch(e){console.error("Error declining loan:",e)}},eT=async()=>{if(K&&confirm("Are you sure you want to cancel this loan request?"))try{(await fetch("/api/loans/".concat(K.id,"/cancel"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:"Cancelled by borrower"})})).ok&&Q.push("/dashboard")}catch(e){console.error("Error cancelling loan:",e)}},eI=async()=>{if(!K||!eN){alert("Please upload a screenshot proof of payment");return}eb(!0);try{let e=(0,x.e)(),r=eN.name.split(".").pop(),t="".concat(K.id,"_").concat(Date.now(),".").concat(r),a="payment-proofs/".concat(t),{error:n}=await e.storage.from("loan-documents").upload(a,eN),s=null;if(!n){let{data:{publicUrl:r}}=e.storage.from("loan-documents").getPublicUrl(a);s=r}let l=await fetch("/api/loans/".concat(K.id,"/funds"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:ev,reference:eg,proof_url:s})});if(l.ok){let e=await l.json();ee({...K,funds_sent:!0,funds_sent_at:new Date().toISOString(),funds_sent_method:ev,status:e.status||"active"}),eh(!1),ef(""),ek(null),ey(null)}else{let e=await l.json();alert(e.error||"Failed to confirm funds sent")}}catch(e){console.error("Error sending funds:",e),alert("Failed to confirm funds sent")}finally{eb(!1)}};if(es||!K)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 dark:bg-neutral-950",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("p",{className:"text-neutral-500 text-sm",children:"Loading loan details..."})]})});let eO=K.borrower_id===(null==ea?void 0:ea.id),eF=K.lender_id===(null==ea?void 0:ea.id)||K.business_lender&&K.business_lender.user_id===(null==ea?void 0:ea.id),eM=(0,m.VO)(K.amount_paid,K.amount),eG=eO?K.lender:K.borrower,eB=eG?"business_name"in eG?eG.business_name:eG.full_name:K.invite_email||"Pending",eq={pending:{color:"warning",icon:h.Z,label:"Pending"},pending_funds:{color:"warning",icon:h.Z,label:"Awaiting Funds"},pending_disbursement:{color:"info",icon:h.Z,label:"Disbursing"},active:{color:"success",icon:p.Z,label:"Active"},completed:{color:"info",icon:p.Z,label:"Completed"},declined:{color:"danger",icon:b.Z,label:"Declined"},cancelled:{color:"default",icon:b.Z,label:"Cancelled"}},{color:eU,icon:eV,label:eH}=eq[K.status]||eq.pending,eY=er.filter(e=>e.is_paid).length,eJ=er.length,e$=er.filter(e=>!e.is_paid&&new Date(e.due_date)<new Date).length,eW=er.find(e=>!e.is_paid),eX=[{id:"overview",label:"Overview",icon:g.Z},{id:"payments",label:"Payments",icon:f.Z,count:eJ},...eF&&K.funds_sent?[{id:"reminders",label:"Reminders",icon:v.Z,count:e$}]:[],{id:"documents",label:"Documents",icon:j.Z}];return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-neutral-50 dark:bg-neutral-950",children:[(0,a.jsx)(d.w,{user:ea}),(0,a.jsx)("main",{className:"flex-1",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[(0,a.jsxs)(l.default,{href:"/dashboard",className:"inline-flex items-center gap-2 text-sm text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300 mb-6 transition-colors",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4"}),"Back to dashboard"]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl border border-neutral-200 dark:border-neutral-800 p-4 sm:p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i.qE,{name:eB,size:"lg",className:"ring-4 ring-neutral-100 dark:ring-neutral-800"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-neutral-900 dark:text-white truncate",children:eB}),(0,a.jsxs)(i.Ct,{variant:eU,size:"sm",children:[(0,a.jsx)(eV,{className:"w-3 h-3 mr-1"}),eH]})]}),(0,a.jsxs)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mt-1",children:[eO?"Your Lender":"Borrower"," • ","business"===K.lender_type?"Business Loan":"Personal Loan"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-left sm:text-right",children:[(0,a.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Total Amount"}),(0,a.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-neutral-900 dark:text-white",children:(0,m.xG)(K.total_amount||K.amount,K.currency)})]}),"active"===K.status&&!K.funds_sent&&eF&&(0,a.jsxs)(i.zx,{onClick:()=>eh(!0),className:"bg-green-600 hover:bg-green-700 whitespace-nowrap",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Send Payment"]}),eF&&K.funds_sent&&(0,a.jsxs)(i.zx,{onClick:()=>eZ(!0),variant:"outline",className:"whitespace-nowrap",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Send Reminder"]})]})]}),"active"===K.status&&K.funds_sent&&(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-neutral-100 dark:border-neutral-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,a.jsxs)("span",{className:"text-neutral-600 dark:text-neutral-400",children:[(0,m.xG)(K.amount_paid,K.currency)," paid"]}),(0,a.jsxs)("span",{className:"font-medium text-neutral-900 dark:text-white",children:[eM,"% complete"]})]}),(0,a.jsx)(i.Ex,{value:eM,size:"md"})]})]}),"active"===K.status&&!K.funds_sent&&eF&&(0,a.jsx)("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(w.Z,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-amber-800 dark:text-amber-200",children:"Action Required"}),(0,a.jsxs)("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:["Send ",(0,m.xG)(K.amount,K.currency)," to ",(null===(e=K.borrower)||void 0===e?void 0:e.full_name)||"the borrower"," to activate this loan."]})]})]})}),"active"===K.status&&!K.funds_sent&&eO&&(0,a.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Waiting for Payment"}),(0,a.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Your lender will send ",(0,m.xG)(K.amount,K.currency)," soon. You'll be notified when it's sent."]})]})]})}),"pending"===K.status&&(0,a.jsx)("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-amber-800 dark:text-amber-200",children:eO?"Awaiting Lender Response":"Loan Request Pending"}),(0,a.jsx)("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:eO?"Waiting for your lender to accept this loan request.":"Review the details and accept or decline this loan request."})]})]}),eF&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.zx,{variant:"outline",size:"sm",onClick:eL,children:"Decline"}),(0,a.jsx)(i.zx,{size:"sm",onClick:eR,children:"Accept Loan"})]}),eO&&(0,a.jsx)(i.zx,{variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50",onClick:eT,children:"Cancel Request"})]})}),(0,a.jsx)("div",{className:"flex gap-1 p-1 bg-neutral-100 dark:bg-neutral-800 rounded-xl mb-6 overflow-x-auto",children:eX.map(e=>{let r=e.icon;return(0,a.jsxs)("button",{onClick:()=>ei(e.id),className:"flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all whitespace-nowrap flex-1 sm:flex-none justify-center ".concat(ed===e.id?"bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white shadow-sm":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white"),children:[(0,a.jsx)(r,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:e.label}),void 0!==e.count&&e.count>0&&(0,a.jsx)("span",{className:"px-1.5 py-0.5 text-xs rounded-full ".concat(ed===e.id?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-neutral-200 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-400"),children:e.count})]},e.id)})}),(0,a.jsxs)("div",{className:"space-y-6",children:["overview"===ed&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,a.jsx)(f.Z,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),(0,a.jsx)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Principal"})]}),(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-neutral-900 dark:text-white",children:(0,m.xG)(K.amount,K.currency)})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,a.jsx)(g.Z,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,a.jsx)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Paid"})]}),(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-green-600 dark:text-green-400",children:(0,m.xG)(K.amount_paid,K.currency)})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:(0,a.jsx)(h.Z,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})}),(0,a.jsx)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Remaining"})]}),(0,a.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-neutral-900 dark:text-white",children:(0,m.xG)(K.amount_remaining,K.currency)})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,a.jsx)(y.Z,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),(0,a.jsx)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Payments"})]}),(0,a.jsxs)("p",{className:"text-xl sm:text-2xl font-bold text-neutral-900 dark:text-white",children:[eY,"/",eJ]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-4 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Loan Details"}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[K.purpose&&(0,a.jsxs)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase tracking-wide mb-1",children:"Purpose"}),(0,a.jsx)("p",{className:"text-sm text-neutral-900 dark:text-white",children:K.purpose})]}),(0,a.jsxs)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase tracking-wide mb-1",children:"Repayment"}),(0,a.jsxs)("p",{className:"text-sm text-neutral-900 dark:text-white",children:[(0,m.xG)(K.repayment_amount,K.currency)," / ",K.repayment_frequency]})]}),(0,a.jsxs)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase tracking-wide mb-1",children:"Start Date"}),(0,a.jsx)("p",{className:"text-sm text-neutral-900 dark:text-white",children:(0,m.p6)(K.start_date)})]}),K.interest_rate>0&&(0,a.jsxs)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase tracking-wide mb-1",children:"Interest Rate"}),(0,a.jsxs)("p",{className:"text-sm text-neutral-900 dark:text-white",children:[K.interest_rate,"% APR (",K.interest_type,")"]})]})]})]}),eW&&K.funds_sent&&(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-4 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Next Payment"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:(0,m.xG)(eW.amount,K.currency)}),(0,a.jsxs)("p",{className:"text-sm text-green-600 dark:text-green-500 mt-1",children:["Due ",(0,m.p6)(eW.due_date)]})]}),eO&&(0,a.jsxs)(i.zx,{onClick:()=>{ec(eW),em(!0)},className:"bg-green-600 hover:bg-green-700",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Mark as Paid"]})]})]}),"active"===K.status&&!K.funds_sent&&eF&&(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-4 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Send Payment to Borrower"}),(()=>{let e=K.borrower,r=null==e?void 0:e.preferred_payment_method;if(!r&&((null==e?void 0:e.paypal_email)?r="paypal":(null==e?void 0:e.cashapp_username)?r="cashapp":(null==e?void 0:e.venmo_username)&&(r="venmo")),!r)return(0,a.jsx)("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:(0,a.jsx)("p",{className:"text-amber-700 dark:text-amber-300 text-sm",children:"⚠️ Borrower hasn't set up payment methods. Contact them to add PayPal, Cash App, or Venmo."})});let t={paypal:{bg:"bg-[#0070ba]",icon:(0,a.jsx)(_.Z,{className:"w-5 h-5 text-white"}),name:"PayPal",value:null==e?void 0:e.paypal_email,getLink:r=>{var t;return"https://www.paypal.com/paypalme/".concat(null==e?void 0:null===(t=e.paypal_email)||void 0===t?void 0:t.split("@")[0],"/").concat(r)}},cashapp:{bg:"bg-[#00D632]",icon:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"$"}),name:"Cash App",value:null==e?void 0:e.cashapp_username,getLink:r=>"https://cash.app/".concat(null==e?void 0:e.cashapp_username,"/").concat(r)},venmo:{bg:"bg-[#3D95CE]",icon:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"V"}),name:"Venmo",value:null==e?void 0:e.venmo_username,getLink:r=>{var t;return"https://venmo.com/".concat(null==e?void 0:null===(t=e.venmo_username)||void 0===t?void 0:t.replace("@",""),"?txn=pay&amount=").concat(r,"&note=Loan%20from%20Feyza")}}}[r];return(null==t?void 0:t.value)?(0,a.jsx)("div",{className:"".concat(t.bg," rounded-xl p-4 sm:p-6"),children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:t.icon}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("p",{className:"text-white/80 text-sm",children:["Send via ",t.name]}),(0,a.jsx)("p",{className:"font-bold text-lg text-white truncate",children:t.value})]})]}),(0,a.jsxs)("a",{href:t.getLink(K.amount),target:"_blank",rel:"noopener noreferrer",className:"px-5 py-2.5 bg-white text-neutral-900 rounded-lg font-medium hover:bg-neutral-100 transition-colors flex items-center justify-center gap-2 whitespace-nowrap",children:["Open ",t.name,(0,a.jsx)(C.Z,{className:"w-4 h-4"})]})]})}):null})(),(0,a.jsxs)(i.zx,{onClick:()=>eh(!0),className:"w-full mt-4 bg-green-600 hover:bg-green-700",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"I've Sent Payment - Upload Proof"]})]})]}),"payments"===ed&&(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Payment Schedule"}),er.length>0&&(0,a.jsxs)(i.zx,{variant:"outline",size:"sm",onClick:()=>{let e=er.filter(e=>!e.is_paid).map(e=>({id:e.id,title:"\uD83D\uDCB0 Feyza Payment Due - ".concat((0,m.xG)(e.amount,K.currency)),amount:e.amount,currency:K.currency,dueDate:e.due_date,lenderName:eB,description:"Loan repayment for ".concat(K.purpose||"personal loan")}));(0,u.M3)(e,K.purpose)},children:[(0,a.jsx)(P.Z,{className:"w-4 h-4 mr-2"}),"Add to Calendar"]})]}),(0,a.jsx)(o.LoanTimeline,{schedule:er,currency:K.currency,onMarkPaid:eO?e=>{ec(e),em(!0)}:void 0})]}),"reminders"===ed&&eF&&K.funds_sent&&(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Payment Reminders"}),(0,a.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mt-1",children:"Send reminders to the borrower about upcoming payments"})]}),(0,a.jsxs)(i.zx,{onClick:()=>eZ(!0),children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Send Reminder"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:0===er.filter(e=>!e.is_paid).length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(p.Z,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:"All payments have been made! \uD83C\uDF89"})]}):er.filter(e=>!e.is_paid).map(e=>{var r;let t=new Date(e.due_date),n=new Date,s=Math.ceil((t.getTime()-n.getTime())/864e5),l=s<0;return(0,a.jsx)("div",{className:"p-4 rounded-xl border ".concat(l?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-neutral-50 dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700"),children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-neutral-900 dark:text-white",children:(0,m.xG)(e.amount,K.currency)}),(0,a.jsxs)("p",{className:"text-sm ".concat(l?"text-red-600 dark:text-red-400 font-medium":"text-neutral-500 dark:text-neutral-400"),children:[l?"⚠️ ".concat(Math.abs(s)," days overdue"):0===s?"Due today":"Due in ".concat(s," days")," • ",(0,m.p6)(e.due_date)]})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:e.reminder_sent_at||e.last_manual_reminder_at?(0,a.jsxs)("span",{className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:[(0,a.jsx)(p.Z,{className:"w-3 h-3"}),"Reminded ",(0,m.p6)(null!==(r=e.reminder_sent_at)&&void 0!==r?r:e.last_manual_reminder_at)]}):(0,a.jsx)("span",{className:"text-xs text-neutral-400",children:"No reminder sent"})})]})},e.id)})})]}),"documents"===ed&&(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-4 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-6",children:"Loan Documents"}),K.borrower_signed||K.lender_signed?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("a",{href:"/api/contracts?loanId=".concat(K.id),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 bg-neutral-50 dark:bg-neutral-800 rounded-xl border border-neutral-200 dark:border-neutral-700 hover:border-green-300 dark:hover:border-green-700 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-900/50 transition-colors",children:(0,a.jsx)(j.Z,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-neutral-900 dark:text-white",children:"Loan Agreement"}),(0,a.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Signed contract for this loan"})]})]}),(0,a.jsx)(P.Z,{className:"w-5 h-5 text-neutral-400 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors"})]}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3",children:[(0,a.jsx)("div",{className:"p-4 rounded-xl border ".concat(K.borrower_signed?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-neutral-50 dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[K.borrower_signed?(0,a.jsx)(p.Z,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):(0,a.jsx)(h.Z,{className:"w-5 h-5 text-neutral-400"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-neutral-900 dark:text-white text-sm",children:["Borrower: ",(null===(r=K.borrower)||void 0===r?void 0:r.full_name)||"Unknown"]}),(0,a.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:K.borrower_signed&&K.borrower_signed_at?"Signed ".concat((0,m.p6)(K.borrower_signed_at)):"Not yet signed"})]})]})}),(0,a.jsx)("div",{className:"p-4 rounded-xl border ".concat(K.lender_signed?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-neutral-50 dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[K.lender_signed?(0,a.jsx)(p.Z,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):(0,a.jsx)(h.Z,{className:"w-5 h-5 text-neutral-400"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-neutral-900 dark:text-white text-sm",children:["Lender: ",(null===(t=K.lender)||void 0===t?void 0:t.full_name)||(null===(D=K.business_lender)||void 0===D?void 0:D.business_name)||"You"]}),(0,a.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:K.lender_signed&&K.lender_signed_at?"Signed ".concat((0,m.p6)(K.lender_signed_at)):"Not yet signed"})]})]})})]})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(j.Z,{className:"w-12 h-12 text-neutral-300 dark:text-neutral-600 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-neutral-500 dark:text-neutral-400",children:"No documents available yet"})]})]}),"completed"===K.status&&(0,a.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:(0,a.jsx)(p.Z,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-green-800 dark:text-green-200",children:"Loan Completed! \uD83C\uDF89"}),(0,a.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"This loan has been fully repaid."})]})]})})]})]})}),(0,a.jsx)(d.$,{}),(0,a.jsx)(c.PaymentModal,{isOpen:ex,onClose:()=>{em(!1),ec(null)},scheduleItem:eo,currency:K.currency,lenderPayPalEmail:(null===(Z=K.lender)||void 0===Z?void 0:Z.paypal_email)||(null===(A=K.business_lender)||void 0===A?void 0:A.paypal_email)||(null===(E=K.guest_lender)||void 0===E?void 0:E.paypal_email),lenderName:(null===(z=K.lender)||void 0===z?void 0:z.full_name)||(null===(R=K.business_lender)||void 0===R?void 0:R.business_name)||(null===(L=K.guest_lender)||void 0===L?void 0:L.full_name)||"Lender",lenderPaymentInfo:{paypal_email:(null===(T=K.lender)||void 0===T?void 0:T.paypal_email)||(null===(I=K.business_lender)||void 0===I?void 0:I.paypal_email)||(null===(O=K.business_lender)||void 0===O?void 0:O.contact_email)||(null===(F=K.guest_lender)||void 0===F?void 0:F.paypal_email),cashapp_username:(null===(M=K.lender)||void 0===M?void 0:M.cashapp_username)||(null===(G=K.business_lender)||void 0===G?void 0:G.cashapp_username),venmo_username:(null===(B=K.lender)||void 0===B?void 0:B.venmo_username)||(null===(q=K.business_lender)||void 0===q?void 0:q.venmo_username),preferred_payment_method:(null===(U=K.lender)||void 0===U?void 0:U.preferred_payment_method)||(null===(V=K.business_lender)||void 0===V?void 0:V.preferred_payment_method)},onSubmit:eE}),eu&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl max-w-md w-full p-6 my-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,a.jsx)(p.Z,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-neutral-900 dark:text-white",children:"Confirm Payment Sent"}),(0,a.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Upload proof of your payment"})]})]}),(0,a.jsxs)("div",{className:"bg-neutral-50 dark:bg-neutral-800 rounded-xl p-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Amount"}),(0,a.jsx)("span",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:(0,m.xG)(K.amount,K.currency)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsx)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"To"}),(0,a.jsx)("span",{className:"text-sm font-medium text-neutral-900 dark:text-white",children:(null===(H=K.borrower)||void 0===H?void 0:H.full_name)||"Borrower"})]})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Payment Method *"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(null===(Y=K.borrower)||void 0===Y?void 0:Y.paypal_email)&&(0,a.jsxs)("button",{type:"button",onClick:()=>ej("paypal"),className:"p-3 rounded-lg border-2 text-center transition-all ".concat("paypal"===ev?"border-[#0070ba] bg-[#0070ba]/10":"border-neutral-200 dark:border-neutral-700 hover:border-neutral-300"),children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-[#0070ba] rounded mx-auto mb-1 flex items-center justify-center",children:(0,a.jsx)(_.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsx)("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"PayPal"})]}),(null===(J=K.borrower)||void 0===J?void 0:J.cashapp_username)&&(0,a.jsxs)("button",{type:"button",onClick:()=>ej("cashapp"),className:"p-3 rounded-lg border-2 text-center transition-all ".concat("cashapp"===ev?"border-[#00D632] bg-[#00D632]/10":"border-neutral-200 dark:border-neutral-700 hover:border-neutral-300"),children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-[#00D632] rounded mx-auto mb-1 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"$"})}),(0,a.jsx)("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Cash App"})]}),(null===($=K.borrower)||void 0===$?void 0:$.venmo_username)&&(0,a.jsxs)("button",{type:"button",onClick:()=>ej("venmo"),className:"p-3 rounded-lg border-2 text-center transition-all ".concat("venmo"===ev?"border-[#3D95CE] bg-[#3D95CE]/10":"border-neutral-200 dark:border-neutral-700 hover:border-neutral-300"),children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-[#3D95CE] rounded mx-auto mb-1 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"V"})}),(0,a.jsx)("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Venmo"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Transaction Reference (optional)"}),(0,a.jsx)("input",{type:"text",value:eg,onChange:e=>ef(e.target.value),placeholder:"e.g., 5TY12345ABC678901",className:"w-full px-4 py-2.5 border border-neutral-300 dark:border-neutral-700 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Screenshot Proof *"}),ew?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:ew,alt:"Payment proof",className:"w-full h-40 object-cover rounded-lg border border-neutral-200 dark:border-neutral-700"}),(0,a.jsx)("button",{type:"button",onClick:()=>{ek(null),ey(null)},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600",children:(0,a.jsx)(b.Z,{className:"w-4 h-4"})})]}):(0,a.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-neutral-300 dark:border-neutral-700 rounded-lg cursor-pointer hover:border-green-500 hover:bg-green-50/50 dark:hover:bg-green-900/10 transition-colors",children:[(0,a.jsx)(S.Z,{className:"w-8 h-8 text-neutral-400 mb-2"}),(0,a.jsx)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Click to upload"}),(0,a.jsx)("span",{className:"text-xs text-neutral-400 mt-1",children:"PNG, JPG up to 5MB"}),(0,a.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var r;let t=null===(r=e.target.files)||void 0===r?void 0:r[0];if(t){ek(t);let e=new FileReader;e.onload=e=>{var r;return ey(null===(r=e.target)||void 0===r?void 0:r.result)},e.readAsDataURL(t)}}})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(i.zx,{variant:"outline",onClick:()=>{eh(!1),ek(null),ey(null),ef("")},className:"flex-1",disabled:ep,children:"Cancel"}),(0,a.jsx)(i.zx,{onClick:eI,className:"flex-1 bg-green-600 hover:bg-green-700",disabled:ep||!eN,children:ep?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Confirming..."]}):"Confirm Payment"})]})]})}),eD&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl max-w-md w-full p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:(0,a.jsx)(v.Z,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-neutral-900 dark:text-white",children:"Send Reminder"}),(0,a.jsxs)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:["To ",(null==K?void 0:null===(W=K.borrower)||void 0===W?void 0:W.full_name)||"borrower"]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Personal message (optional)"}),(0,a.jsx)("textarea",{value:eP,onChange:e=>eS(e.target.value),placeholder:"Add a friendly note...",className:"w-full px-4 py-3 border border-neutral-300 dark:border-neutral-700 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",rows:3})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(i.zx,{variant:"outline",className:"flex-1",onClick:()=>{eZ(!1),eS("")},children:"Cancel"}),(0,a.jsx)(i.zx,{className:"flex-1 bg-amber-500 hover:bg-amber-600",onClick:()=>ez(),disabled:e_,children:e_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Send Reminder"]})})]})]})})]})}},8049:function(e,r,t){"use strict";t.d(r,{$:function(){return d},w:function(){return a.Navbar}});var a=t(5053),n=t(7437);t(2265);var s=t(7648),l=t(3145);function d(){return(0,n.jsx)("footer",{className:"bg-neutral-50 dark:bg-neutral-900 border-t border-neutral-200 dark:border-neutral-800",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[(0,n.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,n.jsx)("div",{className:"flex items-center gap-2 mb-4",children:(0,n.jsx)(l.default,{src:"/feyza.svg",height:80,width:80,alt:"feyza"})}),(0,n.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 max-w-xs",children:"Feyza Simple, transparent lending between people you trust."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-neutral-900 dark:text-white mb-4",children:"Product"}),(0,n.jsxs)("ul",{className:"space-y-2",children:[(0,n.jsx)("li",{children:(0,n.jsx)(s.default,{href:"/features",className:"text-sm text-neutral-600 dark:text-neutral-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:"Features"})}),(0,n.jsx)("li",{children:(0,n.jsx)(s.default,{href:"/pricing",className:"text-sm text-neutral-600 dark:text-neutral-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:"Pricing"})}),(0,n.jsx)("li",{children:(0,n.jsx)(s.default,{href:"/business",className:"text-sm text-neutral-600 dark:text-neutral-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:"For Businesses"})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-neutral-900 dark:text-white mb-4",children:"Support"}),(0,n.jsxs)("ul",{className:"space-y-2",children:[(0,n.jsx)("li",{children:(0,n.jsx)(s.default,{href:"/help",className:"text-sm text-neutral-600 dark:text-neutral-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:"Help Center"})}),(0,n.jsx)("li",{children:(0,n.jsx)(s.default,{href:"/contact",className:"text-sm text-neutral-600 dark:text-neutral-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:"Contact Us"})}),(0,n.jsx)("li",{children:(0,n.jsx)(s.default,{href:"/faq",className:"text-sm text-neutral-600 dark:text-neutral-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:"FAQ"})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-neutral-900 dark:text-white mb-4",children:"Legal"}),(0,n.jsxs)("ul",{className:"space-y-2",children:[(0,n.jsx)("li",{children:(0,n.jsx)(s.default,{href:"/privacy",className:"text-sm text-neutral-600 dark:text-neutral-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:"Privacy Policy"})}),(0,n.jsx)("li",{children:(0,n.jsx)(s.default,{href:"/terms",className:"text-sm text-neutral-600 dark:text-neutral-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:"Terms of Service"})})]})]})]}),(0,n.jsxs)("div",{className:"border-t border-neutral-200 dark:border-neutral-800 mt-8 pt-8 flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,n.jsxs)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:["\xa9 ",new Date().getFullYear()," Feyza. All rights reserved."]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("a",{href:"https://x.com",target:"_blank",rel:"noopener noreferrer",className:"text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors","aria-label":"X",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,n.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors","aria-label":"Instagram",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),(0,n.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors","aria-label":"Facebook",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,n.jsx)("a",{href:"https://tiktok.com",target:"_blank",rel:"noopener noreferrer",className:"text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors","aria-label":"TikTok",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})})})]})]})]})})}},7841:function(e,r,t){"use strict";function a(e,r){let t=new Blob([function(e,r){let t=new Date,a=e=>e.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",n=e=>e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"),s=(e,r)=>new Intl.NumberFormat("en-US",{style:"currency",currency:r||"USD"}).format(e),l=e.map(e=>{let r=new Date(e.dueDate);r.setHours(9,0,0,0);let l=new Date(r);l.setHours(10,0,0,0);let d=["Payment Amount: ".concat(s(e.amount,e.currency)),e.lenderName?"Pay to: ".concat(e.lenderName):"",e.description||"","","Powered by Feyza - feyza.app"].filter(Boolean).join("\\n");return"BEGIN:VEVENT\nUID:".concat(e.id,"@feyza.app\nDTSTAMP:").concat(a(t),"\nDTSTART:").concat(a(r),"\nDTEND:").concat(a(l),"\nSUMMARY:").concat(n(e.title),"\nDESCRIPTION:").concat(n(d),"\nSTATUS:CONFIRMED\nBEGIN:VALARM\nTRIGGER:-P1D\nACTION:DISPLAY\nDESCRIPTION:Payment due tomorrow: ").concat(s(e.amount,e.currency),"\nEND:VALARM\nBEGIN:VALARM\nTRIGGER:-PT2H\nACTION:DISPLAY\nDESCRIPTION:Payment due today: ").concat(s(e.amount,e.currency),"\nEND:VALARM\nEND:VEVENT")});return"BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Feyza//Payment Schedule//EN\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\nX-WR-CALNAME:Feyza Payment Schedule".concat(r?" - ".concat(r):"","\n").concat(l.join("\n"),"\nEND:VCALENDAR")}(e,r)],{type:"text/calendar;charset=utf-8"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download="feyza-payment-schedule".concat(r?"-".concat(r.toLowerCase().replace(/\s+/g,"-")):"",".ics"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}t.d(r,{M3:function(){return a}})}},function(e){e.O(0,[1114,7648,4033,30,9501,2573,5053,6347,3080,2971,2117,1744],function(){return e(e.s=3593)}),_N_E=e.O()}]);